const _0x54804b=_0x2513;(function(_0x4e61d0,_0x29d0bb){const _0x173d0f=_0x2513,_0xd1a45c=_0x4e61d0();while(!![]){try{const _0x3eef71=-parseInt(_0x173d0f(0x2b4))/0x1*(parseInt(_0x173d0f(0x1f9))/0x2)+-parseInt(_0x173d0f(0x20c))/0x3+-parseInt(_0x173d0f(0x26e))/0x4*(parseInt(_0x173d0f(0x29c))/0x5)+-parseInt(_0x173d0f(0x2a5))/0x6*(parseInt(_0x173d0f(0x3af))/0x7)+-parseInt(_0x173d0f(0x2f3))/0x8+parseInt(_0x173d0f(0x295))/0x9+parseInt(_0x173d0f(0x359))/0xa*(parseInt(_0x173d0f(0x279))/0xb);if(_0x3eef71===_0x29d0bb)break;else _0xd1a45c['push'](_0xd1a45c['shift']());}catch(_0x18bbb1){_0xd1a45c['push'](_0xd1a45c['shift']());}}}(_0x1804,0xbe304));const {createClient}=supabase,SUPABASE_URL=_0x54804b(0x31d),SUPABASE_KEY=_0x54804b(0x214),sb=createClient(SUPABASE_URL,SUPABASE_KEY);let currentUser=null,currentView=_0x54804b(0x2cd);function _0x1804(){const _0x242fe8=['filter-popover-template','Số\x20lượng\x20xuất\x20của\x20SP\x20\x22','getFullYear','reset-user-gmail-display','range','san-pham-modal-title','name','Sản\x20phẩm\x20','Sửa\x20Đơn\x20Hàng:\x20','dh-thoi-gian','Đặt\x20lại\x20mật\x20khẩu\x20thất\x20bại.','view-chi-tiet','padStart','dh-mail-url','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-500\x22>','Xác\x20nhận\x20hành\x20động','largeSrc','trim','san-pham-form','</span>','Lỗi\x20khi\x20lưu\x20sản\x20phẩm:\x20','https://qnqtkknzqewesxjoudhr.supabase.co','getElementById','ma_nx,\x20ma_sp,\x20ten_sp,\x20phu_trach','success','image-viewer-modal','ml-20','loai_don','phu_trach','Lỗi\x20fetch\x20chi\x20tiết:','has','\x22\x20vượt\x20quá\x20tồn\x20kho\x20(','dh-btn-view','Không\x20có\x20dữ\x20liệu','hinh_anh_san_pham','beforeend','size','dh-item-sp-search','cancel-reset-btn','paste','searchTerm','open','change','filterKey','jspdf','href','checkbox','isArray','.dh-item-ma-sp','upload','toast-container','save-dh-btn','slice','remove-dh-item-btn','location','print.html?ma_nx=','\x22\x20đã\x20tồn\x20tại.','dh-reset-filters','dh-modal-anh-yc-url-hien-tai','mr-3','gte','bg-red-100\x20text-red-800','Cập\x20nhật\x20thất\x20bại:\x20','dh-prev-page','single','Lưu\x20sản\x20phẩm\x20thành\x20công!','ct-filter-thoi-gian-to','sp-modal-hinh-anh-url-hien-tai','\x22\x20class=\x22w-12\x20h-12\x20object-cover\x20rounded-md\x20thumbnail-image\x22\x20data-large-src=\x22','Bảng\x20sản\x20phẩm\x20vừa\x20được\x20cập\x20nhật.','clipboardData','.dh-item-info','toLowerCase','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-3\x20text-sm\x20text-gray-600\x20break-words\x22>','anh_yc_url','src','readOnly','toISOString','Vui\x20lòng\x20điền\x20đầy\x20đủ\x20Mã\x20SP\x20và\x20Số\x20lượng\x20hợp\x20lệ\x20(>=\x200)\x20cho\x20tất\x20cả\x20sản\x20phẩm.','input:checked','*,\x20hinh_anh_url','20KUwiOV','Lỗi\x20xóa\x20sản\x20phẩm:','sp-image-paste-area','eventType','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20text-center\x22>','sp-modal-image-upload','don_hang','ChiTietNhapXuat.xlsx','querySelectorAll','Mật\x20khẩu\x20cũ\x20không\x20chính\x20xác.','ma_nx,\x20thoi_gian,\x20loai,\x20ma_sp,\x20ten_sp,\x20so_luong,\x20muc_dich,\x20phu_trach','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20py-4\x22>Không\x20có\x20đơn\x20hàng\x20nào</td></tr>','text-red-600\x20font-bold','dh-select-all','#view-don-hang\x20.filter-btn','bold','view','dh-yeu-cau','text','Mật\x20khẩu\x20mới\x20không\x20khớp.','logout-btn','Đã\x20kết\x20nối\x20Realtime\x20thành\x20công!','ma_nx,\x20yeu_cau','addEventListener','.sp-select-row','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20text-sm\x20text-gray-500\x20break-words\x22\x20title=\x22','onclick','dh-btn-print','some','--\x20','setItem','preventDefault','sort','replace',',yeu_cau.ilike.','ct-filter-loai-don','>User</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-gmail=\x22','Data','storage','Lỗi\x20xuất\x20PDF:','admin-panel','<option\x20value=\x22','\x20đơn\x20hàng.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20text-sm\x20text-gray-500\x20break-words\x22>','message','so_luong','internal','gmail','sp-modal-ten-sp','Tồn\x20Đầu','Không\x20rõ','image/','currentPage','dh-loai-don-modal','>Admin</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22User\x22\x20','ma_sp,\x20ten_sp,\x20ton_cuoi,\x20phu_trach','Báo\x20Cáo\x20Chi\x20Tiết\x20Nhập\x20Xuất','Không\x20thể\x20tải\x20dữ\x20liệu\x20cần\x20thiết\x20cho\x20ứng\x20dụng.','.pdf','confirm-ok-btn','setFont','\x20-\x20','Không\x20thể\x20tải\x20chi\x20tiết\x20đơn\x20hàng.','Lưu\x20đơn\x20hàng\x20thành\x20công!','lastIndexOf','public','Thủ\x20Kho','sp-btn-add','submit','chi_tiet','reset-new-password','sidebar','Lỗi\x20fetch\x20đơn\x20hàng:','closest','san-pham-modal','.nav-button','Lỗi\x20lưu\x20sản\x20phẩm:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22','sp-modal-ton-dau','Sản\x20phẩm\x20mới:\x20','sp-search','select','loading-overlay','book_new','new','sp-table-body','1279166vAjpOp','sidebar-logo','Loại','lte','profile-old-password','xuat','.dh-item-sp-search','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20py-4\x22>Không\x20có\x20dữ\x20liệu</td></tr>','bg-gray-200','delete','dh-modal-image-upload','code','bg-green-100\x20text-green-800','addFont','p-2\x20hover:bg-blue-100\x20cursor-pointer\x20sp-dropdown-item','normal','user-gmail','all','phan_quyen','Tên\x20SP','Phải\x20có\x20ít\x20nhất\x20một\x20sản\x20phẩm.','sidebarCollapsed','blob','sp-btn-edit','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Đặt\x20lại\x20MK\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','profile-confirm-password','mat_khau','getNumberOfPages','Không\x20thể\x20xóa\x20vì\x20các\x20SP\x20sau\x20đã\x20được\x20sử\x20dụng\x20trong\x20đơn\x20hàng:\x20','createElement','dh-btn-delete','Thêm\x20Sản\x20Phẩm\x20Mới',',ma_sp.ilike.','loai','Tạo\x20Đơn\x20Hàng\x20Mới','export-all-btn','Mã\x20NX','sp-btn-delete','includes','opacity-0','\x20|\x20Sau\x20xuất:\x20<span\x20class=\x22','postgres_changes','User','cancel-dh-btn','mail_url','main-content-area','pop','Đổi\x20quyền\x20thành\x20công.','ten_sp','Số\x20Lượng','input','dh-item-so-luong','DanhSachSanPham.xlsx','fullDonHangDataForFilters','></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-3\x22>','temp-new-image','pageSize','ct-items-per-page','sp-edit-mode-ma-sp','Xuất\x20Excel\x20thất\x20bại.','.nav-text','getWidth','find','.filter-btn','82VlRanA','pageNumber','parentElement','ma_nx.ilike.','utils','order','ct-btn-pdf','\x20đơn\x20hàng\x20đã\x20chọn?\x20Thao\x20tác\x20này\x20sẽ\x20xóa\x20toàn\x20bộ\x20chi\x20tiết\x20liên\x20quan.','filter-opt-','\x22\x20class=\x22reset-password-btn\x20text-sm\x20text-indigo-600\x20hover:text-indigo-900\x20font-medium\x20px-3\x20py-2\x20rounded-md\x20hover:bg-indigo-50\x20w-full\x20sm:w-auto\x20text-center\x22\x20','Tồn\x20kho:\x20','user-ho-ten','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22border\x20rounded-lg\x20p-4\x20bg-gray-50/50\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:justify-between\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-900\x22>','querySelector','\x20--','ct-search','don-hang-edit-mode-ma-nx','writeFile','don-hang-modal-title','1230816saXmeZ','subscribe','setFontSize','hidden','data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iI2RlZDJkNiIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0icm9ybmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxyZWN0IHg9IjMiIHk9IjMiIHdpZHRoPSIxOCIgaGVpZ\x22tnIgaGVpZ2h0PSIxOCIgcng9IjIiIHJ4PSIyIj48L3JlY3Q+PGNpcmNsZSBjeD0iOC41IiBjeT0iOC41IiByPSIxLjUiIGZpbGw9IiNkZWQyZDYiIHN0cm9rZT0ibm9uZSI+PC9jaXJjbGU+PHBvbHlsaW5lIHBvaW50cz0iMjEgMTUgMTYgMTAgNCAxNCI+PC9wb2x5bGluZT48L3N2Zz4=','Lỗi\x20xuất\x20Excel:','forEach','ton_kho','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFucXRra256cWV3ZXN4am91ZGhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NTE0NzAsImV4cCI6MjA3NzMyNzQ3MH0.3FnZe-lvrI9N2rwZT7Knd5Ab_Rxi5xJ5KeIMMgKD8zQ','Bạn\x20có\x20muốn\x20đổi\x20quyền\x20của\x20','dh-muc-dich',',ghi_chu.ilike.','sp-prev-page','ma_sp,\x20ten_sp,\x20ton_dau,\x20nhap,\x20xuat,\x20ton_cuoi,\x20phu_trach','INSERT','type','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Admin\x22\x20','insert','profile-new-password','dh-next-page','.app-view','yeu_cau','ct-reset-filters','dataset','ct-prev-page','onchange','<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x20py-4\x22>Không\x20có\x20dữ\x20liệu\x20chi\x20tiết</td></tr>','ton_dau','export-modal','\x20mục','from','add','value','show','dh-image-paste-area','cursor','Admin','v_san_pham_chi_tiet','ct-filter-','sp-select-all','items','Mục\x20Đích','checked','dh-search','Lỗi\x20kết\x20nối\x20Realtime,\x20đang\x20thử\x20lại...','https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/fonts/Roboto/Roboto-Regular.ttf','profile-form','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x20break-all\x22>','NFD','thoi_gian','true','image-viewer-img','filters','Sản\x20phẩm\x20với\x20mã\x20\x22','dh-btn-add','onload','Dữ\x20liệu\x20kho\x20vừa\x20được\x20cập\x20nhật.','user','sp-modal-phu-trach','Xuất','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20font-bold\x20text-gray-700\x22>','join','thoi_gian_to','main-app','result','app-loading','landscape','div','dh-filter-thoi-gian-to','Dữ\x20liệu\x20bộ\x20lọc\x20không\x20hợp\x20lệ:','phu-trach-list','Tồn\x20kho:\x20--','log','Roboto-Regular.ttf','Không\x20tìm\x20thấy\x20hình\x20ảnh\x20trong\x20clipboard.','sidebar-footer','update','classList','cloneNode','dh-items-per-page','Realtime\x20update\x20received:','dh-ma-nx','Hiển\x20thị\x20toàn\x20bộ\x20','.filter-search-input','length','Thời\x20Gian','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-500\x22>','filter','reset','userList','Không\x20thể\x20tải\x20dữ\x20liệu\x20sản\x20phẩm.','getPublicUrl','ml-64','target','appendChild','user-details','Nhập','.dh-select-row','3044RzgmpF','grid\x20grid-cols-10\x20gap-4\x20items-start\x20dh-item-row','sp-filter-ton-kho','onerror','Lỗi\x20tải\x20ảnh\x20YC:\x20','-next-page','error','data','OUT','password-reset-modal','ghi_chu','15174434NaCruE','.reset-password-btn','\x20đã\x20bị\x20xóa.','\x22\x20không\x20hợp\x20lệ.','login.html','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-3\x20text-sm\x20text-gray-600\x22>','\x20--\x20<span\x20class=\x22ml-1\x20font-bold\x22>','Sửa\x20Sản\x20Phẩm','></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20font-medium\x20text-gray-900\x22>','export-filtered-btn','ma_sp,\x20ten_sp,\x20phu_trach','sp-modal-remove-image-btn','bg-blue-100','Lỗi\x20khi\x20xóa\x20đơn\x20hàng:\x20','.relative','old','sidebar-toggle-icon-open','active','ct-btn-excel','.filter-apply-btn','Không\x20thể\x20tải\x20file\x20font.','addFileToVFS','ma_nx','info','sp-btn-pdf','Xuất\x20PDF\x20thất\x20bại.\x20Đã\x20có\x20lỗi\x20xảy\x20ra.','ton_cuoi','anh_yeu_cau','7864020WHGbQT','DOMContentLoaded','exact','className','ma_sp','book_append_sheet','removeChannel','3390wZhCJf','readAsDataURL','toggle','confirm-title','<span\x20class=\x22text-gray-400\x20text-xs\x22>Không\x20có</span>','user-list-body','Cập\x20nhật\x20thông\x20tin\x20thành\x20công!','confirm-cancel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20data-id=\x22','42PABIah','itemsPerPage','parse','dh-btn-edit','export-cancel-btn','Vui\x20lòng\x20thêm\x20ít\x20nhất\x20một\x20sản\x20phẩm.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-3\x22><input\x20type=\x22checkbox\x22\x20class=\x22dh-select-row\x22\x20data-id=\x22','remove','-prev-page','ho_ten','contains','23505','<a\x20href=\x22','selected','\x22\x20data-value=\x22','12157vneuhR','reset-user-gmail','Người\x20Phụ\x20Trách','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x20w-full\x20sm:w-auto\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20data-gmail=\x22','.admin-only','aoa_to_sheet','san_pham','sp-next-page','muc_dich','push','publicUrl','getItem','hinh_anh_url','files','innerHTML','.sp-dropdown-item','thoi_gian_from','\x20|\x20Sau\x20nhập:\x20','dh-modal-image-preview','Lỗi\x20lưu\x20đơn\x20hàng:\x20','auto','sp-modal-image-preview','%,ten_sp.ilike.%','password-reset-form','click','view-san-pham','don-hang-modal','Roboto','save','Đã\x20xóa\x20','sanPhamList','dh-modal-remove-image-btn','split','<div\x20class=\x22w-12\x20h-12\x20bg-gray-200\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-gray-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20class=\x22w-6\x20h-6\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20viewBox=\x220\x200\x2024\x2024\x22><path\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20stroke-width=\x222\x22\x20d=\x22M4\x2016l4.586-4.586a2\x202\x200\x20012.828\x200L16\x2016m-2-2l1.586-1.586a2\x202\x200\x20012.828\x200L20\x2014m-6-6h.01M6\x2020h12a2\x202\x200\x20002-2V6a2\x202\x200\x2000-2-2H6a2\x202\x200\x2000-2\x202v12a2\x202\x200\x20002\x202z\x22></path></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','clear','#view-san-pham\x20.filter-btn','.thumbnail-image','input,\x20select,\x20textarea,\x20button','.dh-item-sp-dropdown','filtered','disabled','CHANNEL_ERROR','insertAdjacentHTML','textContent','Không\x20thể\x20tải\x20dữ\x20liệu\x20đơn\x20hàng.','profile-ho-ten','#view-chi-tiet\x20.filter-btn','sp-modal-ma-sp','valueAsDate','\x22\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20p-1\x20rounded\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22','.dh-item-row','Không\x20thể\x20tải\x20danh\x20sách\x20nhân\x20viên.','dh-item-list','dh-filter-loai-don','\x20trên\x20tổng\x20số\x20','\x22\x20class=\x22cursor-pointer\x20hover:bg-gray-50\x20','Lỗi\x20session:','_blank','.dh-item-so-luong','Xuất\x20PDF\x20thành\x20công!','fullChiTietDataForFilters','add-dh-item-btn','Đổi\x20quyền\x20thất\x20bại.','1199384cduOxa','dh-filter-thoi-gian-from','\x20sản\x20phẩm\x20đã\x20chọn?','confirm-modal','Tồn\x20Cuối','Mã\x20SP','public/','body','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x22><span\x20class=\x22px-2\x20inline-flex\x20text-xs\x20leading-5\x20font-semibold\x20rounded-full\x20','Phụ\x20Trách','Chi\x20Tiết\x20Đơn\x20Hàng:\x20','Lỗi\x20tải\x20ảnh\x20lên:\x20','%,phu_trach.ilike.%','sp-items-per-page','phuTrachList','view-don-hang','dh-table-body','.dh-item-ten-sp','Báo\x20Cáo\x20Tồn\x20Kho\x20Sản\x20Phẩm','map','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x1804=function(){return _0x242fe8;};return _0x1804();}function _0x2513(_0x184759,_0x797cb6){const _0x180423=_0x1804();return _0x2513=function(_0x251385,_0x1746be){_0x251385=_0x251385-0x1d4;let _0x42ed67=_0x180423[_0x251385];return _0x42ed67;},_0x2513(_0x184759,_0x797cb6);}const viewStates={'view-san-pham':{'currentPage':0x1,'itemsPerPage':0x32,'filters':{'ma_sp':[],'ten_sp':[],'phu_trach':[],'ton_kho':''},'searchTerm':'','selected':new Set()},'view-don-hang':{'currentPage':0x1,'itemsPerPage':0x32,'filters':{'thoi_gian_from':'','thoi_gian_to':'','ma_nx':[],'loai_don':'','yeu_cau':[]},'searchTerm':'','selected':new Set()},'view-chi-tiet':{'currentPage':0x1,'itemsPerPage':0x32,'filters':{'thoi_gian_from':'','thoi_gian_to':'','ma_nx':[],'loai_don':'','ma_sp':[],'ten_sp':[],'phu_trach':[]},'searchTerm':''}},cache={'phuTrachList':[],'sanPhamList':[],'fullSanPhamDataForFilters':[],'fullDonHangDataForFilters':[],'fullChiTietDataForFilters':[],'userList':[]};let activeFilterPopover=null,activeProductDropdown=null,selectedImageFile=null,selectedYcImageFile=null,currentEditingOrderItems=[],realtimeChannel=null;const PLACEHOLDER_IMAGE_URL=_0x54804b(0x210),showLoading=_0x47cae0=>document['getElementById'](_0x54804b(0x3ab))[_0x54804b(0x259)][_0x54804b(0x29e)](_0x54804b(0x20f),!_0x47cae0),formatDate=_0x3d19a2=>{const _0x243f6c=_0x54804b;if(!_0x3d19a2)return'';const _0xa11d17=new Date(_0x3d19a2),_0x163afa=String(_0xa11d17['getDate']())[_0x243f6c(0x314)](0x2,'0'),_0x2993e1=String(_0xa11d17['getMonth']()+0x1)[_0x243f6c(0x314)](0x2,'0'),_0x4b49ea=_0xa11d17[_0x243f6c(0x30a)]();return _0x163afa+'/'+_0x2993e1+'/'+_0x4b49ea;},debounce=(_0x847564,_0x2e56d7)=>{let _0x3f77da;return(..._0x393341)=>{clearTimeout(_0x3f77da),_0x3f77da=setTimeout(()=>_0x847564['apply'](this,_0x393341),_0x2e56d7);};};function showToast(_0x373abb,_0x40c60d=_0x54804b(0x290)){const _0x3d6e40=_0x54804b,_0x1fa4bf=document[_0x3d6e40(0x31e)](_0x3d6e40(0x33a)),_0x20a6d9=document['createElement']('div');_0x20a6d9[_0x3d6e40(0x298)]='toast\x20toast-'+_0x40c60d,_0x20a6d9['textContent']=_0x373abb,_0x1fa4bf['appendChild'](_0x20a6d9),setTimeout(()=>_0x20a6d9[_0x3d6e40(0x259)][_0x3d6e40(0x22b)]('show'),0x64),setTimeout(()=>{const _0x72af02=_0x3d6e40;_0x20a6d9['classList'][_0x72af02(0x2ac)](_0x72af02(0x22d)),_0x20a6d9['classList']['add']('hide'),_0x20a6d9[_0x72af02(0x370)]('transitionend',()=>_0x20a6d9['remove']());},0xbb8);}function showConfirm(_0x4624aa,_0x584fde=_0x54804b(0x317)){return new Promise(_0x2f4ec8=>{const _0x4a3929=_0x2513,_0x5e044b=document[_0x4a3929(0x31e)](_0x4a3929(0x2f6)),_0x485832=document[_0x4a3929(0x31e)](_0x4a3929(0x29f)),_0x2e852a=document['getElementById']('confirm-message'),_0x9e3e27=document[_0x4a3929(0x31e)](_0x4a3929(0x394)),_0x5d876b=document[_0x4a3929(0x31e)](_0x4a3929(0x2a3));_0x485832['textContent']=_0x584fde,_0x2e852a[_0x4a3929(0x2df)]=_0x4624aa;const _0x13a89e=_0xc999a7=>{const _0x1ec49b=_0x4a3929;_0x5e044b[_0x1ec49b(0x259)][_0x1ec49b(0x22b)](_0x1ec49b(0x20f)),_0x9e3e27['onclick']=null,_0x5d876b['onclick']=null,_0x2f4ec8(_0xc999a7);};_0x9e3e27['onclick']=()=>_0x13a89e(!![]),_0x5d876b[_0x4a3929(0x373)]=()=>_0x13a89e(![]),_0x5e044b[_0x4a3929(0x259)]['remove'](_0x4a3929(0x20f));});}function getExportChoice(){return new Promise(_0x4337a7=>{const _0x5a5b51=_0x2513,_0x56dd0d=document[_0x5a5b51(0x31e)](_0x5a5b51(0x228)),_0x161a5b=document[_0x5a5b51(0x31e)](_0x5a5b51(0x282)),_0x598ee5=document[_0x5a5b51(0x31e)](_0x5a5b51(0x1dc)),_0xd3704=document['getElementById'](_0x5a5b51(0x2a9)),_0x3609a8=_0x1a1cd6=>{const _0x2a3d7b=_0x5a5b51;_0x56dd0d[_0x2a3d7b(0x259)][_0x2a3d7b(0x22b)](_0x2a3d7b(0x20f)),_0x161a5b[_0x2a3d7b(0x373)]=null,_0x598ee5[_0x2a3d7b(0x373)]=null,_0xd3704[_0x2a3d7b(0x373)]=null,_0x4337a7(_0x1a1cd6);};_0x161a5b['onclick']=()=>_0x3609a8(_0x5a5b51(0x2db)),_0x598ee5[_0x5a5b51(0x373)]=()=>_0x3609a8('all'),_0xd3704[_0x5a5b51(0x373)]=()=>_0x3609a8(null),_0x56dd0d[_0x5a5b51(0x259)]['remove']('hidden');});}document[_0x54804b(0x370)](_0x54804b(0x296),async()=>{const _0x5b9c6c=_0x54804b,_0x447ae4=document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x3a0)),_0x7c93e4=document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x1e6)),_0x3efdc3=document[_0x5b9c6c(0x31e)]('sidebar-toggle-btn'),_0x390320=document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x289)),_0x40b363=document[_0x5b9c6c(0x31e)]('sidebar-toggle-icon-close'),_0x4d7ced=document['querySelectorAll'](_0x5b9c6c(0x1f5)),_0xbabbb7=document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x26b)),_0x3ada7b=document['getElementById'](_0x5b9c6c(0x257)),_0x4ca4f6=document['getElementById'](_0x5b9c6c(0x3b0)),_0x5001da=_0x408951=>{const _0x51381d=_0x5b9c6c;_0x408951?(_0x447ae4[_0x51381d(0x259)][_0x51381d(0x2ac)]('w-64'),_0x447ae4['classList'][_0x51381d(0x22b)]('w-20'),_0x7c93e4[_0x51381d(0x259)][_0x51381d(0x2ac)](_0x51381d(0x268)),_0x7c93e4[_0x51381d(0x259)][_0x51381d(0x22b)](_0x51381d(0x322)),_0x390320['classList'][_0x51381d(0x2ac)](_0x51381d(0x20f)),_0x40b363['classList'][_0x51381d(0x22b)](_0x51381d(0x20f)),_0x4d7ced['forEach'](_0x4da277=>_0x4da277[_0x51381d(0x259)][_0x51381d(0x22b)](_0x51381d(0x1e0),_0x51381d(0x20f))),_0xbabbb7[_0x51381d(0x259)][_0x51381d(0x22b)](_0x51381d(0x1e0),_0x51381d(0x20f)),_0x3ada7b[_0x51381d(0x259)][_0x51381d(0x22b)](_0x51381d(0x1e0),_0x51381d(0x20f)),_0x4ca4f6[_0x51381d(0x259)]['remove'](_0x51381d(0x343))):(_0x447ae4[_0x51381d(0x259)][_0x51381d(0x22b)]('w-64'),_0x447ae4['classList'][_0x51381d(0x2ac)]('w-20'),_0x7c93e4[_0x51381d(0x259)]['add'](_0x51381d(0x268)),_0x7c93e4['classList']['remove'](_0x51381d(0x322)),_0x390320[_0x51381d(0x259)]['add'](_0x51381d(0x20f)),_0x40b363['classList'][_0x51381d(0x2ac)]('hidden'),_0x4d7ced[_0x51381d(0x212)](_0x8b1bc1=>_0x8b1bc1[_0x51381d(0x259)]['remove'](_0x51381d(0x1e0),_0x51381d(0x20f))),_0xbabbb7['classList'][_0x51381d(0x2ac)](_0x51381d(0x1e0),_0x51381d(0x20f)),_0x3ada7b[_0x51381d(0x259)]['remove'](_0x51381d(0x1e0),_0x51381d(0x20f)),_0x4ca4f6[_0x51381d(0x259)]['add'](_0x51381d(0x343)));};_0x3efdc3['addEventListener'](_0x5b9c6c(0x2cc),()=>{const _0x5b5655=_0x5b9c6c,_0x5589c4=_0x447ae4[_0x5b5655(0x259)][_0x5b5655(0x2af)]('w-20');_0x5001da(!_0x5589c4),localStorage[_0x5b5655(0x377)](_0x5b5655(0x3c4),!_0x5589c4);});localStorage[_0x5b9c6c(0x2bf)](_0x5b9c6c(0x3c4))===_0x5b9c6c(0x23e)&&_0x5001da(!![]);async function _0x21398e(){const _0x26b132=_0x5b9c6c;try{const _0xebb834=sessionStorage[_0x26b132(0x2bf)]('loggedInUser');if(_0xebb834){const _0x38e5d5=JSON['parse'](_0xebb834);await _0x107f60(_0x38e5d5);}else window[_0x26b132(0x33e)][_0x26b132(0x335)]=_0x26b132(0x27d);}catch(_0x2b09f3){console['error'](_0x26b132(0x2ec),_0x2b09f3),sessionStorage[_0x26b132(0x2d6)](),window[_0x26b132(0x33e)]['href']=_0x26b132(0x27d);}}async function _0x107f60(_0x599786){const _0x2d7bc9=_0x5b9c6c;currentUser=_0x599786,document[_0x2d7bc9(0x31e)](_0x2d7bc9(0x204))[_0x2d7bc9(0x2df)]=_0x599786[_0x2d7bc9(0x2ae)]||_0x2d7bc9(0x1e3),document['getElementById'](_0x2d7bc9(0x3bf))[_0x2d7bc9(0x2df)]=_0x599786[_0x2d7bc9(0x388)],document['getElementById'](_0x2d7bc9(0x2e1))[_0x2d7bc9(0x22c)]=_0x599786[_0x2d7bc9(0x2ae)]||'',_0x5e8e4f(_0x599786),await _0x414843(),_0x35b16e(),document[_0x2d7bc9(0x31e)](_0x2d7bc9(0x24d))[_0x2d7bc9(0x259)][_0x2d7bc9(0x22b)](_0x2d7bc9(0x20f)),document[_0x2d7bc9(0x31e)](_0x2d7bc9(0x24b))['classList'][_0x2d7bc9(0x2ac)](_0x2d7bc9(0x20f)),await _0x261a88(currentView);}async function _0x414843(){const _0x37d247=_0x5b9c6c;showLoading(!![]);try{let _0x121de4=sb[_0x37d247(0x22a)](_0x37d247(0x231))[_0x37d247(0x3aa)](_0x37d247(0x283)),_0x3a9d38=sb[_0x37d247(0x22a)]('don_hang')[_0x37d247(0x3aa)](_0x37d247(0x36f)),_0x28b24e=sb[_0x37d247(0x22a)]('chi_tiet')[_0x37d247(0x3aa)](_0x37d247(0x31f));currentUser&&currentUser[_0x37d247(0x3c1)]===_0x37d247(0x1e3)&&(_0x121de4=_0x121de4['eq'](_0x37d247(0x324),currentUser[_0x37d247(0x2ae)]),_0x3a9d38=_0x3a9d38['eq'](_0x37d247(0x221),currentUser[_0x37d247(0x2ae)]),_0x28b24e=_0x28b24e['eq']('phu_trach',currentUser[_0x37d247(0x2ae)]));const _0x4bca49=sb[_0x37d247(0x22a)](_0x37d247(0x231))['select'](_0x37d247(0x324)),_0x2c53d1=sb['from'](_0x37d247(0x231))[_0x37d247(0x3aa)](_0x37d247(0x390)),_0x3a4f21=sb[_0x37d247(0x22a)](_0x37d247(0x245))[_0x37d247(0x3aa)]('ho_ten'),[_0x495b75,_0x548c1e,_0x4a9c32,_0x53cf24,_0x33bcc1,_0x2ee06d]=await Promise[_0x37d247(0x3c0)]([_0x4bca49,_0x2c53d1,_0x3a4f21,_0x121de4,_0x3a9d38,_0x28b24e]),_0x49cee3=[_0x495b75[_0x37d247(0x274)],_0x548c1e['error'],_0x4a9c32[_0x37d247(0x274)],_0x53cf24[_0x37d247(0x274)],_0x33bcc1[_0x37d247(0x274)],_0x2ee06d['error']][_0x37d247(0x263)](Boolean);if(_0x49cee3[_0x37d247(0x260)]>0x0)throw new Error('Lỗi\x20khi\x20tải\x20dữ\x20liệu\x20ban\x20đầu:\x20'+_0x49cee3[_0x37d247(0x306)](_0x339f02=>_0x339f02[_0x37d247(0x385)])[_0x37d247(0x249)](',\x20'));const _0x1048de=[...new Set((_0x495b75[_0x37d247(0x275)]||[])[_0x37d247(0x306)](_0x13c794=>_0x13c794[_0x37d247(0x324)])[_0x37d247(0x263)](Boolean))],_0x3172e8=[...new Set((_0x4a9c32[_0x37d247(0x275)]||[])[_0x37d247(0x306)](_0x5ac911=>_0x5ac911[_0x37d247(0x2ae)])[_0x37d247(0x263)](Boolean))];cache['phuTrachList']=[...new Set([..._0x1048de,..._0x3172e8])][_0x37d247(0x379)](),cache['sanPhamList']=_0x548c1e[_0x37d247(0x275)]||[],cache['fullSanPhamDataForFilters']=_0x53cf24[_0x37d247(0x275)]||[],cache[_0x37d247(0x1ee)]=_0x33bcc1[_0x37d247(0x275)]||[],cache[_0x37d247(0x2f0)]=_0x2ee06d['data']||[];}catch(_0x347398){console[_0x37d247(0x274)](_0x347398),showToast(_0x37d247(0x392),_0x37d247(0x274));}finally{showLoading(![]);}}function _0x35b16e(){const _0xbef398=_0x5b9c6c;realtimeChannel&&sb[_0xbef398(0x29b)](realtimeChannel);const _0x38d11e=async _0x417705=>{const _0x777570=_0xbef398;console['log'](_0x777570(0x25c),_0x417705),showToast(_0x417705,_0x777570(0x290)),await _0x414843(),await _0x4fc960();};realtimeChannel=sb['channel']('public-db-changes')['on'](_0xbef398(0x1e2),{'event':'*','schema':_0xbef398(0x39a),'table':_0xbef398(0x2ba)},_0x484d50=>{const _0x105cda=_0xbef398;let _0x2350eb=_0x105cda(0x34d);if(_0x484d50[_0x105cda(0x35c)]===_0x105cda(0x21a))_0x2350eb=_0x105cda(0x3a8)+_0x484d50[_0x105cda(0x3ad)]['ma_sp'];if(_0x484d50['eventType']==='DELETE')_0x2350eb=_0x105cda(0x30f)+_0x484d50[_0x105cda(0x288)][_0x105cda(0x299)]+_0x105cda(0x27b);_0x38d11e(_0x2350eb);})['on'](_0xbef398(0x1e2),{'event':'*','schema':'public','table':'don_hang'},_0x319bbb=>_0x38d11e('Danh\x20sách\x20đơn\x20hàng\x20vừa\x20được\x20cập\x20nhật.'))['on']('postgres_changes',{'event':'*','schema':_0xbef398(0x39a),'table':'chi_tiet'},_0x5d9065=>_0x38d11e(_0xbef398(0x244)))[_0xbef398(0x20d)](_0x46261f=>{const _0x16686e=_0xbef398;_0x46261f==='SUBSCRIBED'&&console[_0x16686e(0x254)](_0x16686e(0x36e)),_0x46261f===_0x16686e(0x2dd)&&console['error'](_0x16686e(0x238));});}function _0x5e8e4f(_0x50d135){const _0x52ec68=_0x5b9c6c,_0x5aa518=_0x50d135[_0x52ec68(0x3c1)]===_0x52ec68(0x230);document['getElementById'](_0x52ec68(0x381))[_0x52ec68(0x259)][_0x52ec68(0x29e)](_0x52ec68(0x20f),!_0x5aa518),document[_0x52ec68(0x361)](_0x52ec68(0x2b8))[_0x52ec68(0x212)](_0x500f6c=>{const _0x143347=_0x52ec68;_0x500f6c[_0x143347(0x259)][_0x143347(0x29e)](_0x143347(0x20f),!_0x5aa518);}),_0x5aa518&&_0x5970b4();}function _0xeeaad8(){const _0x3543ab=_0x5b9c6c;realtimeChannel&&sb[_0x3543ab(0x29b)](realtimeChannel),sessionStorage[_0x3543ab(0x2d6)](),window[_0x3543ab(0x33e)][_0x3543ab(0x335)]=_0x3543ab(0x27d);}async function _0x261a88(_0x3e0ee8){const _0x21b3fe=_0x5b9c6c;document[_0x21b3fe(0x361)](_0x21b3fe(0x220))[_0x21b3fe(0x212)](_0x166ce5=>_0x166ce5[_0x21b3fe(0x259)][_0x21b3fe(0x22b)](_0x21b3fe(0x20f))),document['getElementById'](_0x3e0ee8)[_0x21b3fe(0x259)][_0x21b3fe(0x2ac)](_0x21b3fe(0x20f)),document['querySelectorAll'](_0x21b3fe(0x3a4))[_0x21b3fe(0x212)](_0x124349=>{const _0x3016a5=_0x21b3fe;_0x124349['classList'][_0x3016a5(0x29e)](_0x3016a5(0x28a),_0x124349[_0x3016a5(0x223)][_0x3016a5(0x369)]===_0x3e0ee8);}),currentView=_0x3e0ee8,await _0x4fc960();}async function _0x4fc960(){const _0x16c97b=_0x5b9c6c;switch(currentView){case _0x16c97b(0x2cd):await _0x3dc53b(0x1);break;case _0x16c97b(0x302):await _0x1f6250(0x1);break;case _0x16c97b(0x313):await _0x19a184(0x1);break;}}function _0x13724f(_0x4192e3,_0x30ec48,_0x4daa99,_0x32e31b){const _0x215bb3=_0x5b9c6c,_0x579334=viewStates['view-'+_0x4192e3];if(!_0x579334)return;const _0x4e1f2e=document['getElementById'](_0x4192e3+'-pagination-info'),_0x5ad9c1=document['getElementById'](_0x4192e3+_0x215bb3(0x2ad)),_0x538ee1=document[_0x215bb3(0x31e)](_0x4192e3+_0x215bb3(0x273));if(!_0x4e1f2e||!_0x5ad9c1||!_0x538ee1)return;const _0x100bc5=_0x579334[_0x215bb3(0x2a6)]===_0x215bb3(0x3c0);if(_0x30ec48>0x0&&!_0x100bc5)_0x4e1f2e[_0x215bb3(0x2df)]='Hiển\x20thị\x20'+(_0x4daa99+0x1)+_0x215bb3(0x396)+(_0x32e31b+0x1)+_0x215bb3(0x2ea)+_0x30ec48+_0x215bb3(0x229);else _0x30ec48>0x0&&_0x100bc5?_0x4e1f2e[_0x215bb3(0x2df)]=_0x215bb3(0x25e)+_0x30ec48+_0x215bb3(0x229):_0x4e1f2e[_0x215bb3(0x2df)]=_0x215bb3(0x329);_0x5ad9c1[_0x215bb3(0x2dc)]=_0x579334['currentPage']<=0x1||_0x100bc5;const _0x50eadc=_0x100bc5?0x1:Math['ceil'](_0x30ec48/parseInt(_0x579334[_0x215bb3(0x2a6)]));_0x538ee1[_0x215bb3(0x2dc)]=_0x579334['currentPage']>=_0x50eadc||_0x100bc5;}function _0x528a6d(_0x13e278=![]){const _0x11dc56=_0x5b9c6c,_0x363463=viewStates[_0x11dc56(0x2cd)],_0x568f4b=_0x13e278?_0x11dc56(0x219):_0x11dc56(0x358);let _0x837342=sb['from'](_0x11dc56(0x231))[_0x11dc56(0x3aa)](_0x568f4b,{'count':_0x11dc56(0x297)});currentUser&&currentUser[_0x11dc56(0x3c1)]===_0x11dc56(0x1e3)&&(_0x837342=_0x837342['eq'](_0x11dc56(0x324),currentUser[_0x11dc56(0x2ae)]));if(_0x363463['searchTerm'])_0x837342=_0x837342['or']('ma_sp.ilike.%'+_0x363463[_0x11dc56(0x330)]+_0x11dc56(0x2ca)+_0x363463[_0x11dc56(0x330)]+_0x11dc56(0x2ff)+_0x363463['searchTerm']+'%');if(_0x363463['filters'][_0x11dc56(0x299)]?.[_0x11dc56(0x260)]>0x0)_0x837342=_0x837342['in'](_0x11dc56(0x299),_0x363463[_0x11dc56(0x240)]['ma_sp']);if(_0x363463[_0x11dc56(0x240)][_0x11dc56(0x1e9)]?.[_0x11dc56(0x260)]>0x0)_0x837342=_0x837342['in'](_0x11dc56(0x1e9),_0x363463['filters'][_0x11dc56(0x1e9)]);if(_0x363463[_0x11dc56(0x240)][_0x11dc56(0x324)]?.[_0x11dc56(0x260)]>0x0)_0x837342=_0x837342['in'](_0x11dc56(0x324),_0x363463[_0x11dc56(0x240)]['phu_trach']);if(_0x363463[_0x11dc56(0x240)][_0x11dc56(0x213)]){if(_0x363463[_0x11dc56(0x240)]['ton_kho']==='con_hang')_0x837342=_0x837342['gt'](_0x11dc56(0x293),0x0);else _0x837342=_0x837342['eq'](_0x11dc56(0x293),0x0);}return _0x837342;}async function _0x3dc53b(_0x42b91f=viewStates['view-san-pham'][_0x5b9c6c(0x38d)]){const _0x4e6eee=_0x5b9c6c;showLoading(!![]),viewStates[_0x4e6eee(0x2cd)][_0x4e6eee(0x38d)]=_0x42b91f;const _0x4e1cff=viewStates[_0x4e6eee(0x2cd)];_0x4e1cff[_0x4e6eee(0x2b2)]['clear'](),_0x3e58b1();const {itemsPerPage:_0xd06c18}=_0x4e1cff,_0x391052=_0xd06c18===_0x4e6eee(0x3c0),_0x16f348=_0x391052?0x0:(_0x42b91f-0x1)*parseInt(_0xd06c18);let _0xb837eb=_0x391052?-0x1:_0x16f348+parseInt(_0xd06c18)-0x1,_0x2abb75=_0x528a6d();if(!_0x391052)_0x2abb75=_0x2abb75[_0x4e6eee(0x30c)](_0x16f348,_0xb837eb);_0x2abb75=_0x2abb75[_0x4e6eee(0x1fe)](_0x4e6eee(0x299),{'ascending':!![]});const {data:_0x55ac26,error:_0x79f385,count:_0x321cbe}=await _0x2abb75;if(_0x79f385)console[_0x4e6eee(0x274)]('Lỗi\x20fetch\x20sản\x20phẩm:',_0x79f385),showToast(_0x4e6eee(0x266),'error');else{if(_0xb837eb===-0x1||_0xb837eb>=_0x321cbe)_0xb837eb=_0x321cbe>0x0?_0x321cbe-0x1:0x0;_0x5dffb5(_0x55ac26),_0x13724f('sp',_0x321cbe,_0x16f348,_0xb837eb);}showLoading(![]);}function _0x5dffb5(_0x2a0a8e){const _0x35d064=_0x5b9c6c,_0x320cfe=document[_0x35d064(0x31e)]('sp-table-body');_0x320cfe[_0x35d064(0x2c2)]='',_0x2a0a8e&&_0x2a0a8e[_0x35d064(0x260)]>0x0?_0x2a0a8e[_0x35d064(0x212)](_0x4702cc=>{const _0xefb86d=_0x35d064,_0x28cac5=viewStates[_0xefb86d(0x2cd)]['selected'][_0xefb86d(0x326)](_0x4702cc['ma_sp']),_0x389d3b=_0x4702cc[_0xefb86d(0x2c0)],_0x1c54dc=_0x389d3b?'<img\x20src=\x22'+_0x389d3b+'\x22\x20alt=\x22'+_0x4702cc[_0xefb86d(0x1e9)]+_0xefb86d(0x34c)+_0x389d3b+'\x22>':_0xefb86d(0x2d5);_0x320cfe['innerHTML']+=_0xefb86d(0x2a4)+_0x4702cc[_0xefb86d(0x299)]+_0xefb86d(0x2eb)+(_0x28cac5?'bg-blue-100':'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-3\x22><input\x20type=\x22checkbox\x22\x20class=\x22sp-select-row\x22\x20data-id=\x22'+_0x4702cc[_0xefb86d(0x299)]+'\x22\x20'+(_0x28cac5?'checked':'')+_0xefb86d(0x1ef)+_0x1c54dc+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-3\x20text-sm\x20font-medium\x20text-gray-900\x22>'+_0x4702cc[_0xefb86d(0x299)]+_0xefb86d(0x351)+_0x4702cc['ten_sp']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-3\x20text-sm\x20text-gray-600\x22>'+_0x4702cc[_0xefb86d(0x227)]+_0xefb86d(0x27e)+_0x4702cc['nhap']+_0xefb86d(0x27e)+_0x4702cc[_0xefb86d(0x3b4)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-3\x20text-sm\x20font-semibold\x20'+(_0x4702cc[_0xefb86d(0x293)]>0x0?'text-green-600':'text-red-600')+'\x22>'+_0x4702cc[_0xefb86d(0x293)]+_0xefb86d(0x27e)+(_0x4702cc[_0xefb86d(0x324)]||'')+_0xefb86d(0x307);}):_0x320cfe[_0x35d064(0x2c2)]=_0x35d064(0x3b6),document[_0x35d064(0x31e)](_0x35d064(0x233))[_0x35d064(0x236)]=![];}function _0x3e58b1(){const _0x4e369f=_0x5b9c6c,_0x36dd7c=viewStates[_0x4e369f(0x2cd)][_0x4e369f(0x2b2)][_0x4e369f(0x32c)];document[_0x4e369f(0x31e)](_0x4e369f(0x3c6))[_0x4e369f(0x2dc)]=_0x36dd7c!==0x1,document[_0x4e369f(0x31e)](_0x4e369f(0x1de))[_0x4e369f(0x2dc)]=_0x36dd7c===0x0;}function _0x1eb848(_0x3632cd){const _0x29c8a7=_0x5b9c6c;if(_0x3632cd[_0x29c8a7(0x269)][_0x29c8a7(0x3a2)](_0x29c8a7(0x2d8))){const _0xad0485=_0x3632cd[_0x29c8a7(0x269)][_0x29c8a7(0x3a2)]('.thumbnail-image')[_0x29c8a7(0x223)][_0x29c8a7(0x318)];document[_0x29c8a7(0x31e)](_0x29c8a7(0x23f))[_0x29c8a7(0x353)]=_0xad0485,document[_0x29c8a7(0x31e)](_0x29c8a7(0x321))[_0x29c8a7(0x259)]['remove'](_0x29c8a7(0x20f));return;}const _0x80e24b=_0x3632cd['target'][_0x29c8a7(0x3a2)]('tr');if(!_0x80e24b||!_0x80e24b[_0x29c8a7(0x223)]['id'])return;const _0xf930e7=_0x80e24b[_0x29c8a7(0x223)]['id'],_0xf4c795=_0x80e24b[_0x29c8a7(0x206)]('.sp-select-row'),_0x4f8e86=viewStates['view-san-pham'];_0x3632cd[_0x29c8a7(0x269)][_0x29c8a7(0x21b)]!==_0x29c8a7(0x336)&&(_0xf4c795[_0x29c8a7(0x236)]=!_0xf4c795[_0x29c8a7(0x236)]),_0xf4c795[_0x29c8a7(0x236)]?(_0x4f8e86[_0x29c8a7(0x2b2)][_0x29c8a7(0x22b)](_0xf930e7),_0x80e24b['classList'][_0x29c8a7(0x22b)](_0x29c8a7(0x285))):(_0x4f8e86[_0x29c8a7(0x2b2)][_0x29c8a7(0x3b8)](_0xf930e7),_0x80e24b[_0x29c8a7(0x259)][_0x29c8a7(0x2ac)]('bg-blue-100')),_0x3e58b1();}function _0x3589ec(){const _0x25c682=_0x5b9c6c;activeFilterPopover&&(activeFilterPopover[_0x25c682(0x2ac)](),activeFilterPopover=null);}function _0x1e493d(_0x568054,_0x2adf24){const _0x54bd60=_0x5b9c6c;_0x3589ec();const _0x49bdd7=_0x568054[_0x54bd60(0x223)][_0x54bd60(0x333)],_0xfd680a=viewStates[_0x2adf24];if(!_0xfd680a){console['error']('Không\x20tìm\x20thấy\x20state\x20cho\x20view:\x20'+_0x2adf24);return;}let _0x502b6d;if(_0x2adf24===_0x54bd60(0x2cd))_0x502b6d=cache['fullSanPhamDataForFilters'];else{if(_0x2adf24==='view-don-hang')_0x502b6d=cache['fullDonHangDataForFilters'];else _0x502b6d=cache[_0x54bd60(0x2f0)];}if(!Array[_0x54bd60(0x337)](_0x502b6d)){console[_0x54bd60(0x274)](_0x54bd60(0x251),_0x502b6d);return;}const _0x20b7ae=new Set(_0xfd680a['filters'][_0x49bdd7]);let _0x5cdfb9=[..._0x502b6d];for(const _0x3f465e in _0xfd680a['filters']){_0x3f465e!==_0x49bdd7&&_0xfd680a['filters'][_0x3f465e]&&Array[_0x54bd60(0x337)](_0xfd680a[_0x54bd60(0x240)][_0x3f465e])&&_0xfd680a[_0x54bd60(0x240)][_0x3f465e][_0x54bd60(0x260)]>0x0&&(_0x5cdfb9=_0x5cdfb9['filter'](_0x31f602=>_0xfd680a['filters'][_0x3f465e][_0x54bd60(0x1df)](_0x31f602[_0x3f465e])));}const _0x80180e=[...new Set(_0x5cdfb9[_0x54bd60(0x306)](_0x303aa9=>_0x303aa9[_0x49bdd7])[_0x54bd60(0x263)](Boolean))][_0x54bd60(0x379)](),_0x5ace46=document[_0x54bd60(0x31e)](_0x54bd60(0x308));activeFilterPopover=_0x5ace46[_0x54bd60(0x25a)](!![]),activeFilterPopover['id']='',activeFilterPopover['classList'][_0x54bd60(0x2ac)](_0x54bd60(0x20f));const _0x54fecb=activeFilterPopover[_0x54bd60(0x206)](_0x54bd60(0x25f)),_0x449408=activeFilterPopover[_0x54bd60(0x206)]('.filter-options-list'),_0x56e844=activeFilterPopover[_0x54bd60(0x206)](_0x54bd60(0x28c));function _0x22292e(_0x49c68b=''){const _0x2d9b4f=_0x54bd60;_0x449408[_0x2d9b4f(0x2c2)]='',_0x80180e[_0x2d9b4f(0x263)](_0x49fb2c=>_0x49fb2c['toLowerCase']()[_0x2d9b4f(0x1df)](_0x49c68b[_0x2d9b4f(0x350)]()))['forEach'](_0x2d6d51=>{const _0x3969e3=_0x2d9b4f,_0x22a5d6=_0x3969e3(0x201)+_0x49bdd7+'-'+_0x2d6d51[_0x3969e3(0x37a)](/\s/g,'-'),_0x4ba61b=_0x20b7ae[_0x3969e3(0x326)](_0x2d6d51);_0x449408[_0x3969e3(0x2de)](_0x3969e3(0x32b),_0x3969e3(0x3a6)+_0x22a5d6+_0x3969e3(0x2e5)+_0x22a5d6+_0x3969e3(0x2b3)+_0x2d6d51+'\x22\x20class=\x22form-checkbox\x20h-4\x20w-4\x20text-blue-600\x22\x20'+(_0x4ba61b?_0x3969e3(0x236):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20text-gray-700\x22>'+_0x2d6d51+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');});}_0x22292e(),_0x568054[_0x54bd60(0x1fb)][_0x54bd60(0x26a)](activeFilterPopover),_0x54fecb['addEventListener'](_0x54bd60(0x1eb),()=>_0x22292e(_0x54fecb[_0x54bd60(0x22c)])),_0x56e844[_0x54bd60(0x370)](_0x54bd60(0x2cc),()=>{const _0x420d58=_0x54bd60,_0x7b7146=Array['from'](_0x449408[_0x420d58(0x361)](_0x420d58(0x357)))[_0x420d58(0x306)](_0x9ae4f2=>_0x9ae4f2[_0x420d58(0x223)]['value']);_0xfd680a[_0x420d58(0x240)][_0x49bdd7]=_0x7b7146;const _0x54100f=_0x568054[_0x420d58(0x2df)][_0x420d58(0x2d4)]('--')[0x1][_0x420d58(0x319)]()['split']('\x20')[0x0],_0x555a18=_0x7b7146[_0x420d58(0x260)]>0x0?'('+_0x7b7146[_0x420d58(0x260)]+')':'';_0x568054['innerHTML']='--\x20'+_0x54100f+_0x420d58(0x27f)+_0x555a18+_0x420d58(0x31b),_0x3589ec();if(_0x2adf24===_0x420d58(0x2cd))_0x3dc53b(0x1);else{if(_0x2adf24===_0x420d58(0x302))_0x1f6250(0x1);else _0x19a184(0x1);}});}function _0x245ee6(_0x5a7a77=null){const _0x539174=_0x5b9c6c,_0x5cf0df=document[_0x539174(0x31e)](_0x539174(0x3a3)),_0x51d160=document[_0x539174(0x31e)](_0x539174(0x31a));_0x51d160[_0x539174(0x264)](),selectedImageFile=null,document['getElementById'](_0x539174(0x30d))['textContent']=_0x5a7a77?_0x539174(0x280):_0x539174(0x1d8),document[_0x539174(0x31e)](_0x539174(0x2e3))[_0x539174(0x354)]=!!_0x5a7a77,document[_0x539174(0x31e)](_0x539174(0x2e3))[_0x539174(0x259)][_0x539174(0x29e)](_0x539174(0x3b7),!!_0x5a7a77),document[_0x539174(0x31e)]('sp-edit-mode-ma-sp')[_0x539174(0x22c)]=_0x5a7a77?_0x5a7a77[_0x539174(0x299)]:'';const _0x2b273e=document[_0x539174(0x31e)]('sp-modal-image-preview'),_0x4012e5=document[_0x539174(0x31e)](_0x539174(0x284)),_0x7b920f=document[_0x539174(0x31e)](_0x539174(0x34b));_0x5a7a77?(document['getElementById']('sp-modal-ma-sp')[_0x539174(0x22c)]=_0x5a7a77[_0x539174(0x299)],document['getElementById'](_0x539174(0x389))[_0x539174(0x22c)]=_0x5a7a77['ten_sp'],document['getElementById'](_0x539174(0x3a7))[_0x539174(0x22c)]=_0x5a7a77[_0x539174(0x227)],document[_0x539174(0x31e)]('sp-modal-phu-trach')['value']=_0x5a7a77['phu_trach']||'',_0x7b920f[_0x539174(0x22c)]=_0x5a7a77[_0x539174(0x2c0)]||'',_0x2b273e[_0x539174(0x353)]=_0x5a7a77[_0x539174(0x2c0)]||PLACEHOLDER_IMAGE_URL):(_0x7b920f[_0x539174(0x22c)]='',_0x2b273e[_0x539174(0x353)]=PLACEHOLDER_IMAGE_URL);_0x4012e5[_0x539174(0x259)]['toggle']('hidden',!_0x7b920f[_0x539174(0x22c)]&&!selectedImageFile);const _0x5b402e=document[_0x539174(0x31e)](_0x539174(0x252));_0x5b402e['innerHTML']='',cache[_0x539174(0x301)][_0x539174(0x212)](_0x276d33=>{const _0x12f37a=_0x539174;_0x5b402e[_0x12f37a(0x2c2)]+=_0x12f37a(0x382)+_0x276d33+'\x22>';}),_0x5cf0df[_0x539174(0x259)][_0x539174(0x2ac)](_0x539174(0x20f));}function _0x40222d(_0x16b697){const _0x5e8342=_0x5b9c6c,_0x21ce9f=_0x16b697[_0x5e8342(0x399)]('.'),_0x2ea60f=_0x16b697['slice'](0x0,_0x21ce9f),_0x3dba4b=_0x16b697[_0x5e8342(0x33c)](_0x21ce9f);return _0x2ea60f['normalize'](_0x5e8342(0x23c))['replace'](/[\u0300-\u036f]/g,'')[_0x5e8342(0x350)]()[_0x5e8342(0x37a)](/\s+/g,'-')[_0x5e8342(0x37a)](/[^a-z0-9-]/g,'')+_0x3dba4b;}async function _0x2bafa9(_0xec0570){const _0x421208=_0x5b9c6c;_0xec0570[_0x421208(0x378)]();const _0x46f60c=document[_0x421208(0x31e)](_0x421208(0x1f3))[_0x421208(0x22c)],_0x317ef2=!!_0x46f60c;let _0x4b29cb=document[_0x421208(0x31e)]('sp-modal-hinh-anh-url-hien-tai')['value'];const _0x459db2=_0x317ef2?_0x4b29cb:null,_0x303b5c={'ma_sp':document[_0x421208(0x31e)](_0x421208(0x2e3))[_0x421208(0x22c)][_0x421208(0x319)](),'ten_sp':document[_0x421208(0x31e)]('sp-modal-ten-sp')[_0x421208(0x22c)][_0x421208(0x319)](),'ton_dau':parseInt(document[_0x421208(0x31e)](_0x421208(0x3a7))[_0x421208(0x22c)])||0x0,'phu_trach':document[_0x421208(0x31e)](_0x421208(0x246))[_0x421208(0x22c)]['trim']()};if(!_0x303b5c[_0x421208(0x299)]||!_0x303b5c[_0x421208(0x1e9)]){showToast('Mã\x20sản\x20phẩm\x20và\x20Tên\x20sản\x20phẩm\x20là\x20bắt\x20buộc.','error');return;}showLoading(!![]);try{if(selectedImageFile){const _0x283038=_0x40222d(selectedImageFile['name']),_0x5b4d36=_0x421208(0x2f9)+Date['now']()+'-'+_0x283038,{error:_0x47e08e}=await sb['storage'][_0x421208(0x22a)](_0x421208(0x32a))[_0x421208(0x339)](_0x5b4d36,selectedImageFile);if(_0x47e08e)throw new Error(_0x421208(0x2fe)+_0x47e08e[_0x421208(0x385)]);const {data:_0x1af5bd}=sb[_0x421208(0x37f)]['from'](_0x421208(0x32a))[_0x421208(0x267)](_0x5b4d36);_0x4b29cb=_0x1af5bd[_0x421208(0x2be)];if(_0x317ef2&&_0x459db2){const _0x1a51dc=_0x459db2[_0x421208(0x2d4)]('/')[_0x421208(0x1e7)]();await sb[_0x421208(0x37f)]['from'](_0x421208(0x32a))[_0x421208(0x2ac)]([_0x421208(0x2f9)+_0x1a51dc]);}}else{if(!_0x4b29cb&&_0x459db2){const _0x559b8f=_0x459db2[_0x421208(0x2d4)]('/')[_0x421208(0x1e7)]();await sb[_0x421208(0x37f)][_0x421208(0x22a)](_0x421208(0x32a))[_0x421208(0x2ac)]([_0x421208(0x2f9)+_0x559b8f]);}}_0x303b5c[_0x421208(0x2c0)]=_0x4b29cb;let _0x14bcb0;if(_0x317ef2){const {error:_0x4550b7}=await sb[_0x421208(0x22a)](_0x421208(0x2ba))['update'](_0x303b5c)['eq']('ma_sp',_0x46f60c);_0x14bcb0=_0x4550b7;}else{const {error:_0x3ab6e1}=await sb[_0x421208(0x22a)](_0x421208(0x2ba))[_0x421208(0x21d)](_0x303b5c);_0x14bcb0=_0x3ab6e1;}if(_0x14bcb0)throw _0x14bcb0;showToast(_0x421208(0x349),_0x421208(0x320)),document['getElementById'](_0x421208(0x3a3))[_0x421208(0x259)][_0x421208(0x22b)](_0x421208(0x20f));}catch(_0x22e20d){console[_0x421208(0x274)](_0x421208(0x3a5),_0x22e20d),_0x22e20d[_0x421208(0x3ba)]===_0x421208(0x2b0)?showToast('Mã\x20sản\x20phẩm\x20\x22'+_0x303b5c[_0x421208(0x299)]+_0x421208(0x340),_0x421208(0x274)):showToast(_0x421208(0x31c)+_0x22e20d[_0x421208(0x385)],'error');}finally{showLoading(![]);}}async function _0x144361(){const _0x12ee50=_0x5b9c6c,_0x2a7d79=[...viewStates['view-san-pham'][_0x12ee50(0x2b2)]];if(_0x2a7d79[_0x12ee50(0x260)]===0x0)return;const _0x3e7b9d=await showConfirm('Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20'+_0x2a7d79[_0x12ee50(0x260)]+_0x12ee50(0x2f5));if(!_0x3e7b9d)return;showLoading(!![]);try{const {data:_0x10f65c,error:_0x3589d1}=await sb['from'](_0x12ee50(0x39e))['select'](_0x12ee50(0x299))['in'](_0x12ee50(0x299),_0x2a7d79);if(_0x3589d1)throw _0x3589d1;if(_0x10f65c[_0x12ee50(0x260)]>0x0){const _0x45f287=[...new Set(_0x10f65c[_0x12ee50(0x306)](_0x5a3136=>_0x5a3136['ma_sp']))];throw new Error(_0x12ee50(0x1d5)+_0x45f287[_0x12ee50(0x249)](',\x20'));}const {data:_0xbcdfec,error:_0x4a1e64}=await sb['from'](_0x12ee50(0x2ba))[_0x12ee50(0x3aa)](_0x12ee50(0x2c0))['in']('ma_sp',_0x2a7d79);if(_0x4a1e64)throw _0x4a1e64;const _0x398f98=_0xbcdfec['map'](_0x1505ea=>_0x1505ea[_0x12ee50(0x2c0)])[_0x12ee50(0x263)](Boolean)[_0x12ee50(0x306)](_0x17a3a1=>_0x12ee50(0x2f9)+_0x17a3a1[_0x12ee50(0x2d4)]('/')[_0x12ee50(0x1e7)]());_0x398f98['length']>0x0&&await sb[_0x12ee50(0x37f)][_0x12ee50(0x22a)](_0x12ee50(0x32a))[_0x12ee50(0x2ac)](_0x398f98);const {error:_0x251653}=await sb[_0x12ee50(0x22a)]('san_pham')[_0x12ee50(0x3b8)]()['in'](_0x12ee50(0x299),_0x2a7d79);if(_0x251653)throw _0x251653;showToast('Đã\x20xóa\x20'+_0x2a7d79['length']+'\x20sản\x20phẩm\x20thành\x20công.','success');}catch(_0x391715){console[_0x12ee50(0x274)](_0x12ee50(0x35a),_0x391715),showToast(_0x391715[_0x12ee50(0x385)],_0x12ee50(0x274));}finally{showLoading(![]);}}function _0x2e4075(){const _0x2c9bb0=_0x5b9c6c,_0x374d02=viewStates[_0x2c9bb0(0x302)];let _0x2ebd58=sb['from'](_0x2c9bb0(0x35f))[_0x2c9bb0(0x3aa)]('*',{'count':_0x2c9bb0(0x297)});currentUser&&currentUser['phan_quyen']===_0x2c9bb0(0x1e3)&&(_0x2ebd58=_0x2ebd58['eq'](_0x2c9bb0(0x221),currentUser[_0x2c9bb0(0x2ae)]));if(_0x374d02[_0x2c9bb0(0x330)]){const _0x427c47='%'+_0x374d02[_0x2c9bb0(0x330)]+'%';_0x2ebd58=_0x2ebd58['or'](_0x2c9bb0(0x1fc)+_0x427c47+_0x2c9bb0(0x37b)+_0x427c47+',muc_dich.ilike.'+_0x427c47+_0x2c9bb0(0x217)+_0x427c47);}if(_0x374d02['filters'][_0x2c9bb0(0x2c4)])_0x2ebd58=_0x2ebd58[_0x2c9bb0(0x344)](_0x2c9bb0(0x23d),_0x374d02[_0x2c9bb0(0x240)][_0x2c9bb0(0x2c4)]);if(_0x374d02[_0x2c9bb0(0x240)]['thoi_gian_to'])_0x2ebd58=_0x2ebd58[_0x2c9bb0(0x3b2)](_0x2c9bb0(0x23d),_0x374d02[_0x2c9bb0(0x240)]['thoi_gian_to']);if(_0x374d02[_0x2c9bb0(0x240)][_0x2c9bb0(0x323)])_0x2ebd58=_0x2ebd58['eq'](_0x2c9bb0(0x323),_0x374d02[_0x2c9bb0(0x240)][_0x2c9bb0(0x323)]);if(_0x374d02[_0x2c9bb0(0x240)][_0x2c9bb0(0x28f)]?.[_0x2c9bb0(0x260)]>0x0)_0x2ebd58=_0x2ebd58['in'](_0x2c9bb0(0x28f),_0x374d02[_0x2c9bb0(0x240)]['ma_nx']);if(_0x374d02['filters'][_0x2c9bb0(0x221)]?.['length']>0x0)_0x2ebd58=_0x2ebd58['in'](_0x2c9bb0(0x221),_0x374d02[_0x2c9bb0(0x240)][_0x2c9bb0(0x221)]);return _0x2ebd58;}async function _0x1f6250(_0xf72c59=viewStates[_0x5b9c6c(0x302)][_0x5b9c6c(0x38d)]){const _0x5a6aaf=_0x5b9c6c;showLoading(!![]),viewStates['view-don-hang'][_0x5a6aaf(0x38d)]=_0xf72c59;const _0x2a0b0e=viewStates[_0x5a6aaf(0x302)];_0x2a0b0e[_0x5a6aaf(0x2b2)]['clear'](),_0x3f481e();const {itemsPerPage:_0x1493bf}=_0x2a0b0e,_0x46e675=_0x1493bf==='all',_0x518ff3=_0x46e675?0x0:(_0xf72c59-0x1)*parseInt(_0x1493bf);let _0x537d5b=_0x46e675?-0x1:_0x518ff3+parseInt(_0x1493bf)-0x1,_0x3db723=_0x2e4075();if(!_0x46e675)_0x3db723=_0x3db723[_0x5a6aaf(0x30c)](_0x518ff3,_0x537d5b);_0x3db723=_0x3db723[_0x5a6aaf(0x1fe)]('thoi_gian',{'ascending':![]});const {data:_0x36358f,error:_0x2d0b70,count:_0x1e571e}=await _0x3db723;if(_0x2d0b70)console[_0x5a6aaf(0x274)](_0x5a6aaf(0x3a1),_0x2d0b70),showToast(_0x5a6aaf(0x2e0),_0x5a6aaf(0x274));else{if(_0x537d5b===-0x1||_0x537d5b>=_0x1e571e)_0x537d5b=_0x1e571e>0x0?_0x1e571e-0x1:0x0;_0x1bc0ef(_0x36358f),_0x13724f('dh',_0x1e571e,_0x518ff3,_0x537d5b);}showLoading(![]);}function _0x1bc0ef(_0x1f91ac){const _0x49d436=_0x5b9c6c,_0x115e8e=document[_0x49d436(0x31e)](_0x49d436(0x303));_0x115e8e['innerHTML']='',_0x1f91ac&&_0x1f91ac[_0x49d436(0x260)]>0x0?_0x1f91ac['forEach'](_0x5ee16e=>{const _0x31acab=_0x49d436,_0x42c391=viewStates[_0x31acab(0x302)][_0x31acab(0x2b2)][_0x31acab(0x326)](_0x5ee16e[_0x31acab(0x28f)]),_0x5d8d72=_0x5ee16e['anh_yc_url']?'<img\x20src=\x22'+_0x5ee16e[_0x31acab(0x352)]+'\x22\x20alt=\x22Ảnh\x20YC\x22\x20class=\x22w-12\x20h-12\x20object-cover\x20rounded-md\x20thumbnail-image\x22\x20data-large-src=\x22'+_0x5ee16e['anh_yc_url']+'\x22>':_0x31acab(0x2a0),_0x50dab7=_0x5ee16e['mail_url']?_0x31acab(0x2b1)+_0x5ee16e['mail_url']+'\x22\x20target=\x22_blank\x22\x20class=\x22text-blue-600\x20hover:text-blue-800\x22\x20title=\x22Mở\x20mail\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20class=\x22w-6\x20h-6\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20viewBox=\x220\x200\x2024\x2024\x22><path\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20stroke-width=\x222\x22\x20d=\x22M3\x208l7.89\x205.26a2\x202\x200\x20002.22\x200L21\x208M5\x2019h14a2\x202\x200\x20002-2V7a2\x202\x200\x2000-2-2H5a2\x202\x200\x2000-2\x202v10a2\x202\x200\x20002\x202z\x22></path></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>':'';_0x115e8e['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20data-id=\x22'+_0x5ee16e[_0x31acab(0x28f)]+'\x22\x20class=\x22cursor-pointer\x20hover:bg-gray-50\x20'+(_0x42c391?_0x31acab(0x285):'')+_0x31acab(0x2ab)+_0x5ee16e['ma_nx']+'\x22\x20'+(_0x42c391?_0x31acab(0x236):'')+_0x31acab(0x281)+_0x5ee16e[_0x31acab(0x28f)]+_0x31acab(0x262)+formatDate(_0x5ee16e['thoi_gian'])+_0x31acab(0x2fb)+(_0x5ee16e[_0x31acab(0x323)]===_0x31acab(0x26c)?_0x31acab(0x3bb):_0x31acab(0x345))+'\x22>'+_0x5ee16e[_0x31acab(0x323)]+_0x31acab(0x316)+_0x5ee16e[_0x31acab(0x221)]+_0x31acab(0x372)+(_0x5ee16e[_0x31acab(0x2bc)]||'')+'\x22>'+(_0x5ee16e[_0x31acab(0x2bc)]||'')+_0x31acab(0x372)+(_0x5ee16e['ghi_chu']||'')+'\x22>'+(_0x5ee16e['ghi_chu']||'')+_0x31acab(0x35d)+_0x5d8d72+_0x31acab(0x35d)+_0x50dab7+_0x31acab(0x307);}):_0x115e8e[_0x49d436(0x2c2)]=_0x49d436(0x364),document[_0x49d436(0x31e)]('dh-select-all')['checked']=![],_0x5e8e4f(currentUser);}function _0x3f481e(){const _0x29790e=_0x5b9c6c,_0x41e786=viewStates['view-don-hang'][_0x29790e(0x2b2)][_0x29790e(0x32c)];document[_0x29790e(0x31e)](_0x29790e(0x328))[_0x29790e(0x2dc)]=_0x41e786!==0x1,document[_0x29790e(0x31e)](_0x29790e(0x2a8))[_0x29790e(0x2dc)]=_0x41e786!==0x1,document['getElementById'](_0x29790e(0x1d7))[_0x29790e(0x2dc)]=_0x41e786===0x0,document[_0x29790e(0x31e)](_0x29790e(0x374))[_0x29790e(0x2dc)]=_0x41e786!==0x1;}function _0x4d2153(_0x461d8f){const _0x4eb19d=_0x5b9c6c;if(_0x461d8f[_0x4eb19d(0x269)][_0x4eb19d(0x3a2)](_0x4eb19d(0x2d8))){const _0x133b54=_0x461d8f[_0x4eb19d(0x269)][_0x4eb19d(0x3a2)](_0x4eb19d(0x2d8))['dataset'][_0x4eb19d(0x318)];document[_0x4eb19d(0x31e)](_0x4eb19d(0x23f))[_0x4eb19d(0x353)]=_0x133b54,document[_0x4eb19d(0x31e)]('image-viewer-modal')[_0x4eb19d(0x259)][_0x4eb19d(0x2ac)](_0x4eb19d(0x20f));return;}const _0x14d6d0=_0x461d8f[_0x4eb19d(0x269)][_0x4eb19d(0x3a2)]('tr');if(!_0x14d6d0||!_0x14d6d0[_0x4eb19d(0x223)]['id'])return;const _0x35682b=_0x14d6d0['dataset']['id'],_0x313887=_0x14d6d0['querySelector'](_0x4eb19d(0x26d)),_0x401b0c=viewStates[_0x4eb19d(0x302)];_0x461d8f['target']['type']!==_0x4eb19d(0x336)&&!_0x461d8f[_0x4eb19d(0x269)][_0x4eb19d(0x3a2)]('a')&&(_0x313887[_0x4eb19d(0x236)]=!_0x313887['checked']),_0x313887[_0x4eb19d(0x236)]?(_0x401b0c['selected']['add'](_0x35682b),_0x14d6d0[_0x4eb19d(0x259)][_0x4eb19d(0x22b)](_0x4eb19d(0x285))):(_0x401b0c['selected'][_0x4eb19d(0x3b8)](_0x35682b),_0x14d6d0[_0x4eb19d(0x259)][_0x4eb19d(0x2ac)](_0x4eb19d(0x285))),_0x3f481e();}async function _0x42ad5b(){const _0x375cb9=_0x5b9c6c,_0x496ca2=[...viewStates[_0x375cb9(0x302)][_0x375cb9(0x2b2)]];if(_0x496ca2[_0x375cb9(0x260)]===0x0)return;const _0x59696c=await showConfirm('Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20'+_0x496ca2[_0x375cb9(0x260)]+_0x375cb9(0x200));if(!_0x59696c)return;showLoading(!![]);try{const {data:_0x2beb69,error:_0x3db056}=await sb['from'](_0x375cb9(0x35f))[_0x375cb9(0x3aa)](_0x375cb9(0x352))['in'](_0x375cb9(0x28f),_0x496ca2);if(_0x3db056)throw _0x3db056;const _0x41a28e=_0x2beb69[_0x375cb9(0x306)](_0x3cccb9=>_0x3cccb9[_0x375cb9(0x352)])[_0x375cb9(0x263)](Boolean)[_0x375cb9(0x306)](_0x4454b6=>_0x375cb9(0x2f9)+_0x4454b6['split']('/')['pop']());_0x41a28e[_0x375cb9(0x260)]>0x0&&await sb['storage'][_0x375cb9(0x22a)](_0x375cb9(0x294))[_0x375cb9(0x2ac)](_0x41a28e);const {error:_0x34fd69}=await sb['from'](_0x375cb9(0x39e))[_0x375cb9(0x3b8)]()['in'](_0x375cb9(0x28f),_0x496ca2);if(_0x34fd69)throw _0x34fd69;const {error:_0x3f8220}=await sb[_0x375cb9(0x22a)](_0x375cb9(0x35f))['delete']()['in'](_0x375cb9(0x28f),_0x496ca2);if(_0x3f8220)throw _0x3f8220;showToast(_0x375cb9(0x2d1)+_0x496ca2['length']+_0x375cb9(0x383),_0x375cb9(0x320));}catch(_0x3044df){showToast(_0x375cb9(0x286)+_0x3044df[_0x375cb9(0x385)],_0x375cb9(0x274));}finally{showLoading(![]);}}function _0x42a777(){const _0x379db0=_0x5b9c6c,_0x258e8b=viewStates[_0x379db0(0x313)];let _0x220176=sb[_0x379db0(0x22a)](_0x379db0(0x39e))['select']('*',{'count':_0x379db0(0x297)});currentUser&&currentUser[_0x379db0(0x3c1)]==='User'&&(_0x220176=_0x220176['eq'](_0x379db0(0x324),currentUser[_0x379db0(0x2ae)]));if(_0x258e8b[_0x379db0(0x330)]){const _0xd62d52='%'+_0x258e8b[_0x379db0(0x330)]+'%';_0x220176=_0x220176['or']('ma_nx.ilike.'+_0xd62d52+_0x379db0(0x1d9)+_0xd62d52+',ten_sp.ilike.'+_0xd62d52+',muc_dich.ilike.'+_0xd62d52+',phu_trach.ilike.'+_0xd62d52);}if(_0x258e8b[_0x379db0(0x240)][_0x379db0(0x2c4)])_0x220176=_0x220176[_0x379db0(0x344)]('thoi_gian',_0x258e8b[_0x379db0(0x240)]['thoi_gian_from']);if(_0x258e8b[_0x379db0(0x240)][_0x379db0(0x24a)])_0x220176=_0x220176[_0x379db0(0x3b2)](_0x379db0(0x23d),_0x258e8b[_0x379db0(0x240)][_0x379db0(0x24a)]);if(_0x258e8b[_0x379db0(0x240)][_0x379db0(0x323)])_0x220176=_0x220176['eq'](_0x379db0(0x1da),_0x258e8b[_0x379db0(0x240)][_0x379db0(0x323)]);if(_0x258e8b[_0x379db0(0x240)][_0x379db0(0x28f)]?.['length']>0x0)_0x220176=_0x220176['in'](_0x379db0(0x28f),_0x258e8b[_0x379db0(0x240)][_0x379db0(0x28f)]);if(_0x258e8b[_0x379db0(0x240)][_0x379db0(0x299)]?.['length']>0x0)_0x220176=_0x220176['in'](_0x379db0(0x299),_0x258e8b['filters'][_0x379db0(0x299)]);if(_0x258e8b[_0x379db0(0x240)]['ten_sp']?.[_0x379db0(0x260)]>0x0)_0x220176=_0x220176['in'](_0x379db0(0x1e9),_0x258e8b['filters'][_0x379db0(0x1e9)]);if(_0x258e8b['filters'][_0x379db0(0x324)]?.[_0x379db0(0x260)]>0x0)_0x220176=_0x220176['in'](_0x379db0(0x324),_0x258e8b[_0x379db0(0x240)][_0x379db0(0x324)]);return _0x220176;}async function _0x19a184(_0x22ff6e=viewStates['view-chi-tiet'][_0x5b9c6c(0x38d)]){const _0x2b412f=_0x5b9c6c;showLoading(!![]),viewStates[_0x2b412f(0x313)][_0x2b412f(0x38d)]=_0x22ff6e;const _0xd5be98=viewStates[_0x2b412f(0x313)],{itemsPerPage:_0x19f298}=_0xd5be98,_0x34dee8=_0x19f298===_0x2b412f(0x3c0),_0x9bb05a=_0x34dee8?0x0:(_0x22ff6e-0x1)*parseInt(_0x19f298);let _0x270d0d=_0x34dee8?-0x1:_0x9bb05a+parseInt(_0x19f298)-0x1,_0x132896=_0x42a777();if(!_0x34dee8)_0x132896=_0x132896['range'](_0x9bb05a,_0x270d0d);_0x132896=_0x132896[_0x2b412f(0x1fe)](_0x2b412f(0x23d),{'ascending':![]});const {data:_0xaededf,error:_0x5e4e77,count:_0x1e1033}=await _0x132896;if(_0x5e4e77)console[_0x2b412f(0x274)](_0x2b412f(0x325),_0x5e4e77),showToast('Không\x20thể\x20tải\x20dữ\x20liệu\x20chi\x20tiết.',_0x2b412f(0x274));else{if(_0x270d0d===-0x1||_0x270d0d>=_0x1e1033)_0x270d0d=_0x1e1033>0x0?_0x1e1033-0x1:0x0;_0x384e5a(_0xaededf),_0x13724f('ct',_0x1e1033,_0x9bb05a,_0x270d0d);}showLoading(![]);}function _0x384e5a(_0xb0ff97){const _0x4c9451=_0x5b9c6c,_0xb0b334=document[_0x4c9451(0x31e)]('ct-table-body');_0xb0b334[_0x4c9451(0x2c2)]='',_0xb0ff97&&_0xb0ff97[_0x4c9451(0x260)]>0x0?_0xb0ff97[_0x4c9451(0x212)](_0x5ef9a5=>{const _0x46963a=_0x4c9451;_0xb0b334['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20font-medium\x20text-gray-900\x22>'+_0x5ef9a5[_0x46963a(0x28f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-6\x20py-4\x20whitespace-nowrap\x20text-sm\x20text-gray-500\x22>'+formatDate(_0x5ef9a5['thoi_gian'])+_0x46963a(0x2fb)+(_0x5ef9a5[_0x46963a(0x1da)]===_0x46963a(0x26c)?_0x46963a(0x3bb):_0x46963a(0x345))+'\x22>'+_0x5ef9a5[_0x46963a(0x1da)]+_0x46963a(0x316)+_0x5ef9a5[_0x46963a(0x299)]+_0x46963a(0x384)+(_0x5ef9a5['ten_sp']||'')+_0x46963a(0x248)+_0x5ef9a5[_0x46963a(0x386)]+_0x46963a(0x384)+(_0x5ef9a5[_0x46963a(0x2bc)]||'')+_0x46963a(0x262)+(_0x5ef9a5[_0x46963a(0x324)]||'')+_0x46963a(0x307);}):_0xb0b334['innerHTML']=_0x4c9451(0x226);}function _0x1edf29(){const _0x48270d=_0x5b9c6c,_0x1f3123=document['getElementById'](_0x48270d(0x36a))[_0x48270d(0x22c)],_0xcfea2=document[_0x48270d(0x361)](_0x48270d(0x2e6)),_0x13e7a4=_0x1f3123?cache[_0x48270d(0x2d2)][_0x48270d(0x263)](_0x21e346=>_0x21e346[_0x48270d(0x324)]===_0x1f3123):cache['sanPhamList'];_0xcfea2[_0x48270d(0x212)](_0x4be47f=>{const _0x13c15b=_0x48270d,_0x33b1f8=_0x4be47f[_0x13c15b(0x206)](_0x13c15b(0x338)),_0x14e71e=_0x33b1f8['value'];_0x14e71e&&!_0x13e7a4[_0x13c15b(0x375)](_0x4d86f5=>_0x4d86f5[_0x13c15b(0x299)]===_0x14e71e)&&(_0x33b1f8[_0x13c15b(0x22c)]='',_0x4be47f[_0x13c15b(0x206)](_0x13c15b(0x3b5))[_0x13c15b(0x22c)]='',_0x4be47f['querySelector'](_0x13c15b(0x304))[_0x13c15b(0x22c)]='',_0x36472f(_0x4be47f));});}function _0x36472f(_0x24c747){const _0x3377ce=_0x5b9c6c,_0x237435=_0x24c747[_0x3377ce(0x206)](_0x3377ce(0x338))['value'],_0x289658=_0x24c747[_0x3377ce(0x206)](_0x3377ce(0x2ee)),_0x2499c3=parseInt(_0x289658[_0x3377ce(0x22c)])||0x0,_0x4c5338=_0x24c747[_0x3377ce(0x206)](_0x3377ce(0x34f)),_0x4bf0dc=document[_0x3377ce(0x31e)](_0x3377ce(0x38e))[_0x3377ce(0x22c)],_0x24802e=!!document[_0x3377ce(0x31e)](_0x3377ce(0x209))[_0x3377ce(0x22c)],_0xf5d28d=cache['sanPhamList']['find'](_0x4c6a0a=>_0x4c6a0a[_0x3377ce(0x299)]===_0x237435);if(!_0xf5d28d){_0x4c5338[_0x3377ce(0x2df)]=_0x3377ce(0x253);return;}let _0x58ef38=_0xf5d28d['ton_cuoi'];if(_0x24802e){const _0x14a0c8=currentEditingOrderItems[_0x3377ce(0x1f7)](_0x2bc7d9=>_0x2bc7d9['ma_sp']===_0x237435);_0x14a0c8&&(_0x4bf0dc===_0x3377ce(0x26c)?_0x58ef38-=_0x14a0c8[_0x3377ce(0x386)]:_0x58ef38+=_0x14a0c8[_0x3377ce(0x386)]);}let _0x438a28=_0x3377ce(0x203)+_0x58ef38;if(_0x2499c3>0x0){if(_0x4bf0dc===_0x3377ce(0x26c))_0x438a28+=_0x3377ce(0x2c5)+(_0x58ef38+_0x2499c3);else{const _0x5b0be0=_0x58ef38-_0x2499c3;_0x438a28+=_0x3377ce(0x1e1)+(_0x5b0be0<0x0?_0x3377ce(0x365):'')+'\x22>'+_0x5b0be0+_0x3377ce(0x31b);}}_0x4c5338[_0x3377ce(0x2c2)]=_0x438a28;}function _0x3fa5ad(){const _0x5bf883=_0x5b9c6c;activeProductDropdown&&(activeProductDropdown['classList'][_0x5bf883(0x22b)](_0x5bf883(0x20f)),activeProductDropdown=null);}async function _0x214261(_0x2fd7dc=null,_0x18d559=![]){const _0x1e9c81=_0x5b9c6c,_0x36a246=document[_0x1e9c81(0x31e)]('don-hang-modal'),_0x1ff4dc=document[_0x1e9c81(0x31e)]('don-hang-form');_0x1ff4dc[_0x1e9c81(0x264)](),document[_0x1e9c81(0x31e)](_0x1e9c81(0x2e8))[_0x1e9c81(0x2c2)]='',selectedYcImageFile=null,currentEditingOrderItems=[];const _0x269c03=!!_0x2fd7dc,_0x38cab1=_0x18d559?_0x1e9c81(0x2fd)+_0x2fd7dc[_0x1e9c81(0x28f)]:_0x269c03?_0x1e9c81(0x310)+_0x2fd7dc[_0x1e9c81(0x28f)]:_0x1e9c81(0x1db);document['getElementById'](_0x1e9c81(0x20b))[_0x1e9c81(0x2df)]=_0x38cab1,document['getElementById'](_0x1e9c81(0x209))[_0x1e9c81(0x22c)]=_0x269c03?_0x2fd7dc[_0x1e9c81(0x28f)]:'',document['getElementById'](_0x1e9c81(0x2f1))[_0x1e9c81(0x259)][_0x1e9c81(0x29e)]('hidden',_0x18d559),document[_0x1e9c81(0x31e)](_0x1e9c81(0x33b))[_0x1e9c81(0x259)][_0x1e9c81(0x29e)](_0x1e9c81(0x20f),_0x18d559);const _0x2022ef=document[_0x1e9c81(0x31e)]('dh-yeu-cau');_0x2022ef['innerHTML']='',cache[_0x1e9c81(0x301)][_0x1e9c81(0x212)](_0x34f66e=>_0x2022ef[_0x1e9c81(0x22b)](new Option(_0x34f66e,_0x34f66e)));const _0x3501be=document[_0x1e9c81(0x31e)]('dh-loai-don-modal'),_0xc36597=document['getElementById']('dh-ma-nx'),_0x8ca63b=document[_0x1e9c81(0x31e)]('dh-modal-image-preview'),_0x33f563=document['getElementById'](_0x1e9c81(0x2d3)),_0x590864=document[_0x1e9c81(0x31e)](_0x1e9c81(0x342));if(_0x269c03){document['getElementById'](_0x1e9c81(0x311))[_0x1e9c81(0x22c)]=new Date(_0x2fd7dc['thoi_gian'])[_0x1e9c81(0x355)]()['split']('T')[0x0],_0x3501be[_0x1e9c81(0x22c)]=_0x2fd7dc[_0x1e9c81(0x323)],_0x2022ef[_0x1e9c81(0x22c)]=_0x2fd7dc[_0x1e9c81(0x221)],_0xc36597['value']=_0x2fd7dc[_0x1e9c81(0x28f)],document[_0x1e9c81(0x31e)]('dh-muc-dich')[_0x1e9c81(0x22c)]=_0x2fd7dc['muc_dich']||'',document[_0x1e9c81(0x31e)]('dh-ghi-chu')['value']=_0x2fd7dc[_0x1e9c81(0x278)]||'',document[_0x1e9c81(0x31e)](_0x1e9c81(0x315))[_0x1e9c81(0x22c)]=_0x2fd7dc[_0x1e9c81(0x1e5)]||'',_0x590864[_0x1e9c81(0x22c)]=_0x2fd7dc['anh_yc_url']||'',_0x8ca63b[_0x1e9c81(0x353)]=_0x2fd7dc[_0x1e9c81(0x352)]||PLACEHOLDER_IMAGE_URL,showLoading(!![]);const {data:_0xe6ee9f,error:_0x453c9e}=await sb[_0x1e9c81(0x22a)]('chi_tiet')[_0x1e9c81(0x3aa)]('*')['eq']('ma_nx',_0x2fd7dc[_0x1e9c81(0x28f)]);showLoading(![]);if(_0x453c9e){showToast(_0x1e9c81(0x397),_0x1e9c81(0x274));return;}currentEditingOrderItems=_0xe6ee9f,_0xe6ee9f[_0x1e9c81(0x260)]>0x0?_0xe6ee9f['forEach'](_0x3001b1=>_0x2656a6(_0x3001b1)):_0x2656a6();}else{document[_0x1e9c81(0x31e)]('dh-thoi-gian')[_0x1e9c81(0x2e4)]=new Date();const _0x46949d=()=>{const _0x5e17c3=_0x1e9c81,_0x140258=_0x3501be[_0x5e17c3(0x22c)]==='Nhập'?'IN':_0x5e17c3(0x276);_0xc36597[_0x5e17c3(0x22c)]=_0x140258+'.JNJ.'+Math['floor'](0x186a0+Math['random']()*0xdbba0);};_0x46949d(),_0x3501be[_0x1e9c81(0x225)]=_0x46949d,_0x2656a6(),_0x590864[_0x1e9c81(0x22c)]='',_0x8ca63b[_0x1e9c81(0x353)]=PLACEHOLDER_IMAGE_URL;}_0x33f563['classList'][_0x1e9c81(0x29e)](_0x1e9c81(0x20f),!_0x590864[_0x1e9c81(0x22c)]&&!selectedYcImageFile);const _0x38da27=_0x1ff4dc[_0x1e9c81(0x361)](_0x1e9c81(0x2d9));_0x38da27['forEach'](_0x4a533e=>{const _0x3ed599=_0x1e9c81;_0x4a533e['id']!=='cancel-dh-btn'&&(_0x4a533e[_0x3ed599(0x2dc)]=_0x18d559);}),_0x36a246[_0x1e9c81(0x259)][_0x1e9c81(0x2ac)](_0x1e9c81(0x20f));}function _0x2656a6(_0xf359ea=null){const _0x4281e5=_0x5b9c6c,_0x2fcdb9=document['getElementById'](_0x4281e5(0x2e8)),_0x2381af=document[_0x4281e5(0x1d6)](_0x4281e5(0x24f));_0x2381af[_0x4281e5(0x298)]=_0x4281e5(0x26f),_0x2381af['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22dh-item-sp-search\x20w-full\x20border\x20rounded-md\x20p-2\x22\x20placeholder=\x22Tìm\x20Mã\x20SP...\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20class=\x22dh-item-ma-sp\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22dh-item-sp-dropdown\x20absolute\x20z-20\x20w-full\x20bg-white\x20border\x20rounded-md\x20mt-1\x20max-h-48\x20overflow-y-auto\x20hidden\x20shadow-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Dropdown\x20options\x20will\x20be\x20injected\x20here\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22dh-item-ten-sp\x20w-full\x20border\x20rounded-md\x20p-2\x20bg-gray-100\x22\x20readonly\x20placeholder=\x22Tên\x20SP\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20min=\x220\x22\x20class=\x22dh-item-so-luong\x20w-full\x20border\x20rounded-md\x20p-2\x22\x20required\x20placeholder=\x22SL\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-1\x20text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22remove-dh-item-btn\x20text-red-500\x20hover:text-red-700\x22>Xóa</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-10\x20text-xs\x20text-gray-600\x20mt-1\x20dh-item-info\x22>Tồn\x20kho:\x20--</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2fcdb9['appendChild'](_0x2381af);if(_0xf359ea){const _0x207f2b=cache[_0x4281e5(0x2d2)][_0x4281e5(0x1f7)](_0x2ecd28=>_0x2ecd28[_0x4281e5(0x299)]===_0xf359ea[_0x4281e5(0x299)]);_0x2381af[_0x4281e5(0x206)](_0x4281e5(0x3b5))['value']=_0xf359ea[_0x4281e5(0x299)],_0x2381af['querySelector'](_0x4281e5(0x338))['value']=_0xf359ea[_0x4281e5(0x299)],_0x2381af[_0x4281e5(0x206)](_0x4281e5(0x304))['value']=_0x207f2b?_0x207f2b['ten_sp']:_0x4281e5(0x38b),_0x2381af[_0x4281e5(0x206)](_0x4281e5(0x2ee))[_0x4281e5(0x22c)]=_0xf359ea[_0x4281e5(0x386)];}_0x36472f(_0x2381af);}async function _0x4d3bec(_0x35e3e5){const _0x47d219=_0x5b9c6c;_0x35e3e5[_0x47d219(0x378)]();const _0x4418db=document['getElementById'](_0x47d219(0x209))['value'],_0x448ef1=!!_0x4418db;let _0xaefad4=document['getElementById'](_0x47d219(0x342))[_0x47d219(0x22c)];const _0x496c4e=_0x448ef1?_0xaefad4:null,_0x371589={'thoi_gian':document[_0x47d219(0x31e)]('dh-thoi-gian')['value'],'loai_don':document[_0x47d219(0x31e)]('dh-loai-don-modal')['value'],'yeu_cau':document['getElementById'](_0x47d219(0x36a))[_0x47d219(0x22c)],'ma_nx':document[_0x47d219(0x31e)](_0x47d219(0x25d))[_0x47d219(0x22c)],'muc_dich':document['getElementById'](_0x47d219(0x216))['value'],'ghi_chu':document[_0x47d219(0x31e)]('dh-ghi-chu')[_0x47d219(0x22c)],'mail_url':document[_0x47d219(0x31e)]('dh-mail-url')['value'][_0x47d219(0x319)]()},_0x70d867=[],_0xb1b227=document[_0x47d219(0x361)]('.dh-item-row');if(_0xb1b227[_0x47d219(0x260)]===0x0){showToast(_0x47d219(0x2aa),_0x47d219(0x274));return;}for(const _0x236ef3 of _0xb1b227){const _0x35b27a=_0x236ef3[_0x47d219(0x206)]('.dh-item-ma-sp')[_0x47d219(0x22c)],_0x4dd138=parseInt(_0x236ef3[_0x47d219(0x206)]('.dh-item-so-luong')[_0x47d219(0x22c)]);if(!_0x35b27a||isNaN(_0x4dd138)||_0x4dd138<0x0){showToast(_0x47d219(0x356),_0x47d219(0x274));return;}const _0x2af86f=cache[_0x47d219(0x2d2)][_0x47d219(0x1f7)](_0x41ce58=>_0x41ce58[_0x47d219(0x299)]===_0x35b27a);if(!_0x2af86f){showToast(_0x47d219(0x241)+_0x35b27a+_0x47d219(0x27c),'error');return;}let _0x772667=_0x2af86f[_0x47d219(0x293)];if(_0x448ef1){const _0x369117=currentEditingOrderItems[_0x47d219(0x1f7)](_0x4665e8=>_0x4665e8[_0x47d219(0x299)]===_0x35b27a);_0x369117&&(_0x772667+=_0x371589[_0x47d219(0x323)]===_0x47d219(0x26c)?-_0x369117[_0x47d219(0x386)]:_0x369117[_0x47d219(0x386)]);}if(_0x371589[_0x47d219(0x323)]===_0x47d219(0x247)&&_0x4dd138>_0x772667){showToast(_0x47d219(0x309)+_0x35b27a+_0x47d219(0x327)+_0x772667+').',_0x47d219(0x274));return;}_0x70d867[_0x47d219(0x2bd)]({'id':crypto['randomUUID'](),'ma_nx':_0x371589[_0x47d219(0x28f)],'thoi_gian':_0x371589[_0x47d219(0x23d)],'loai':_0x371589[_0x47d219(0x323)],'ma_sp':_0x35b27a,'ten_sp':_0x2af86f[_0x47d219(0x1e9)],'so_luong':_0x4dd138,'muc_dich':_0x371589[_0x47d219(0x2bc)],'phu_trach':_0x2af86f[_0x47d219(0x324)]});}showLoading(!![]);try{if(selectedYcImageFile){const _0x47dbfa=_0x40222d(selectedYcImageFile[_0x47d219(0x30e)]),_0x58353b=_0x47d219(0x2f9)+Date['now']()+'-'+_0x47dbfa,{error:_0x317e7e}=await sb['storage'][_0x47d219(0x22a)](_0x47d219(0x294))[_0x47d219(0x339)](_0x58353b,selectedYcImageFile);if(_0x317e7e)throw new Error(_0x47d219(0x272)+_0x317e7e[_0x47d219(0x385)]);const {data:_0xc4a91a}=sb[_0x47d219(0x37f)][_0x47d219(0x22a)](_0x47d219(0x294))[_0x47d219(0x267)](_0x58353b);_0xaefad4=_0xc4a91a['publicUrl'];if(_0x448ef1&&_0x496c4e){const _0x5c374a=_0x496c4e['split']('/')[_0x47d219(0x1e7)]();await sb[_0x47d219(0x37f)][_0x47d219(0x22a)]('anh_yeu_cau')[_0x47d219(0x2ac)](['public/'+_0x5c374a]);}}else{if(!_0xaefad4&&_0x496c4e){const _0xec056a=_0x496c4e[_0x47d219(0x2d4)]('/')['pop']();await sb[_0x47d219(0x37f)][_0x47d219(0x22a)](_0x47d219(0x294))['remove']([_0x47d219(0x2f9)+_0xec056a]);}}_0x371589['anh_yc_url']=_0xaefad4;if(_0x448ef1){const {error:_0x52e274}=await sb['from'](_0x47d219(0x35f))[_0x47d219(0x258)](_0x371589)['eq'](_0x47d219(0x28f),_0x4418db);if(_0x52e274)throw _0x52e274;const {error:_0x3bdda8}=await sb[_0x47d219(0x22a)]('chi_tiet')[_0x47d219(0x3b8)]()['eq']('ma_nx',_0x4418db);if(_0x3bdda8)throw _0x3bdda8;const {error:_0x4b1e0b}=await sb[_0x47d219(0x22a)]('chi_tiet')[_0x47d219(0x21d)](_0x70d867);if(_0x4b1e0b)throw _0x4b1e0b;}else{const {error:_0x3435bb}=await sb[_0x47d219(0x22a)](_0x47d219(0x35f))[_0x47d219(0x21d)](_0x371589);if(_0x3435bb)throw _0x3435bb;const {error:_0x1e1330}=await sb[_0x47d219(0x22a)]('chi_tiet')[_0x47d219(0x21d)](_0x70d867);if(_0x1e1330){await sb['from'](_0x47d219(0x35f))[_0x47d219(0x3b8)]()['eq']('ma_nx',_0x371589['ma_nx']);throw _0x1e1330;}}showToast(_0x47d219(0x398),_0x47d219(0x320)),document[_0x47d219(0x31e)](_0x47d219(0x2ce))[_0x47d219(0x259)]['add'](_0x47d219(0x20f));}catch(_0x35b58a){showToast(_0x47d219(0x2c7)+_0x35b58a['message'],_0x47d219(0x274));}finally{showLoading(![]);}}async function _0x5b0350(_0x59c0ab){const _0xc3f66f=_0x5b9c6c,_0x29c0be=await getExportChoice();if(!_0x29c0be)return;showLoading(!![]);try{const _0x167d53=_0x29c0be===_0xc3f66f(0x2db);let _0x3cd607,_0x22fa02,_0xb57efa,_0x5c0259;if(_0x59c0ab==='sp')_0x3cd607=_0x167d53?_0x528a6d(!![]):sb['from'](_0xc3f66f(0x231))['select'](_0xc3f66f(0x219)),currentUser&&currentUser[_0xc3f66f(0x3c1)]===_0xc3f66f(0x1e3)&&!_0x167d53&&(_0x3cd607=_0x3cd607['eq'](_0xc3f66f(0x324),currentUser[_0xc3f66f(0x2ae)])),_0x22fa02=[_0xc3f66f(0x2f8),'Tên\x20SP',_0xc3f66f(0x38a),_0xc3f66f(0x26c),_0xc3f66f(0x247),'Tồn\x20Cuối',_0xc3f66f(0x2fc)],_0xb57efa=[_0xc3f66f(0x299),_0xc3f66f(0x1e9),_0xc3f66f(0x227),'nhap',_0xc3f66f(0x3b4),_0xc3f66f(0x293),_0xc3f66f(0x324)],_0x5c0259=_0xc3f66f(0x1ed);else{let _0x3a38ea=_0x167d53?_0x42a777():sb[_0xc3f66f(0x22a)](_0xc3f66f(0x39e))[_0xc3f66f(0x3aa)]('*');currentUser&&currentUser[_0xc3f66f(0x3c1)]==='User'&&!_0x167d53&&(_0x3a38ea=_0x3a38ea['eq']('phu_trach',currentUser[_0xc3f66f(0x2ae)])),_0x3cd607=_0x3a38ea[_0xc3f66f(0x3aa)](_0xc3f66f(0x363)),_0x22fa02=['Mã\x20NX',_0xc3f66f(0x261),_0xc3f66f(0x3b1),_0xc3f66f(0x2f8),_0xc3f66f(0x3c2),_0xc3f66f(0x1ea),_0xc3f66f(0x235),'Phụ\x20Trách'],_0xb57efa=[_0xc3f66f(0x28f),_0xc3f66f(0x23d),_0xc3f66f(0x1da),_0xc3f66f(0x299),_0xc3f66f(0x1e9),_0xc3f66f(0x386),_0xc3f66f(0x2bc),_0xc3f66f(0x324)],_0x5c0259=_0xc3f66f(0x360);}const {data:_0x6400fd,error:_0xa43892}=await _0x3cd607[_0xc3f66f(0x1fe)](_0x59c0ab==='sp'?'ma_sp':_0xc3f66f(0x23d),{'ascending':_0x59c0ab==='sp'});if(_0xa43892)throw _0xa43892;const _0x515852=_0x6400fd['map'](_0x256c22=>{return _0xb57efa['map'](_0x4eb972=>{const _0x4503ad=_0x2513;if(_0x4eb972===_0x4503ad(0x23d))return formatDate(_0x256c22[_0x4eb972]);return _0x256c22[_0x4eb972]!==null&&_0x256c22[_0x4eb972]!==undefined?_0x256c22[_0x4eb972]:'';});}),_0x20133b=XLSX['utils'][_0xc3f66f(0x2b9)]([_0x22fa02,..._0x515852]),_0x20e366=XLSX[_0xc3f66f(0x1fd)][_0xc3f66f(0x3ac)]();XLSX['utils'][_0xc3f66f(0x29a)](_0x20e366,_0x20133b,_0xc3f66f(0x37e)),XLSX[_0xc3f66f(0x20a)](_0x20e366,_0x5c0259),showToast('Xuất\x20Excel\x20thành\x20công!','success');}catch(_0x3073c1){console['error'](_0xc3f66f(0x211),_0x3073c1),showToast(_0xc3f66f(0x1f4),_0xc3f66f(0x274));}finally{showLoading(![]);}}async function _0x1b1682(_0x23788c){const _0x3b484c=_0x5b9c6c,_0x4164a9=await getExportChoice();if(!_0x4164a9)return;showLoading(!![]);try{const {jsPDF:_0x2e1316}=window[_0x3b484c(0x334)],_0x347a64=new _0x2e1316({'orientation':_0x3b484c(0x24e)}),_0xf917=_0x3b484c(0x239),_0x20390a=await fetch(_0xf917);if(!_0x20390a['ok'])throw new Error(_0x3b484c(0x28d));const _0x43e990=await _0x20390a[_0x3b484c(0x3c5)](),_0x442543=await new Promise((_0x23864a,_0x3fa241)=>{const _0x47b3a7=_0x3b484c,_0xd934b8=new FileReader();_0xd934b8['readAsDataURL'](_0x43e990),_0xd934b8[_0x47b3a7(0x243)]=()=>_0x23864a(_0xd934b8[_0x47b3a7(0x24c)][_0x47b3a7(0x2d4)](',')[0x1]),_0xd934b8[_0x47b3a7(0x271)]=_0x15abbf=>_0x3fa241(_0x15abbf);});_0x347a64[_0x3b484c(0x28e)](_0x3b484c(0x255),_0x442543),_0x347a64[_0x3b484c(0x3bc)]('Roboto-Regular.ttf','Roboto',_0x3b484c(0x3be)),_0x347a64[_0x3b484c(0x395)](_0x3b484c(0x2cf));const _0x456f2a=_0x4164a9==='filtered';let _0x14fb7d,_0x1dbd97,_0x5bbd3b,_0x2cfcca,_0x41efb1;if(_0x23788c==='sp')_0x14fb7d=_0x456f2a?_0x528a6d(!![]):sb[_0x3b484c(0x22a)](_0x3b484c(0x231))[_0x3b484c(0x3aa)](_0x3b484c(0x219)),currentUser&&currentUser[_0x3b484c(0x3c1)]===_0x3b484c(0x1e3)&&!_0x456f2a&&(_0x14fb7d=_0x14fb7d['eq'](_0x3b484c(0x324),currentUser[_0x3b484c(0x2ae)])),_0x1dbd97=[[_0x3b484c(0x2f8),_0x3b484c(0x3c2),_0x3b484c(0x38a),_0x3b484c(0x26c),_0x3b484c(0x247),_0x3b484c(0x2f7),_0x3b484c(0x2fc)]],_0x5bbd3b=['ma_sp',_0x3b484c(0x1e9),_0x3b484c(0x227),'nhap','xuat',_0x3b484c(0x293),'phu_trach'],_0x2cfcca=_0x3b484c(0x305),_0x41efb1={0x0:{'cellWidth':0x23},0x1:{'cellWidth':0x41},0x2:{'cellWidth':0x19},0x3:{'cellWidth':0x19},0x4:{'cellWidth':0x19},0x5:{'cellWidth':0x19},0x6:{'cellWidth':'auto'}};else{let _0x15219c=_0x456f2a?_0x42a777():sb[_0x3b484c(0x22a)](_0x3b484c(0x39e))[_0x3b484c(0x3aa)]('*');currentUser&&currentUser[_0x3b484c(0x3c1)]===_0x3b484c(0x1e3)&&!_0x456f2a&&(_0x15219c=_0x15219c['eq'](_0x3b484c(0x324),currentUser['ho_ten'])),_0x14fb7d=_0x15219c[_0x3b484c(0x3aa)](_0x3b484c(0x363)),_0x1dbd97=[[_0x3b484c(0x1dd),_0x3b484c(0x261),_0x3b484c(0x3b1),_0x3b484c(0x2f8),_0x3b484c(0x3c2),'SL',_0x3b484c(0x235),_0x3b484c(0x2fc)]],_0x5bbd3b=[_0x3b484c(0x28f),_0x3b484c(0x23d),_0x3b484c(0x1da),_0x3b484c(0x299),_0x3b484c(0x1e9),_0x3b484c(0x386),_0x3b484c(0x2bc),_0x3b484c(0x324)],_0x2cfcca=_0x3b484c(0x391),_0x41efb1={0x0:{'cellWidth':0x19},0x1:{'cellWidth':0x19},0x2:{'cellWidth':0xf},0x3:{'cellWidth':0x1e},0x4:{'cellWidth':0x2d},0x5:{'cellWidth':0xf},0x6:{'cellWidth':0x46},0x7:{'cellWidth':_0x3b484c(0x2c8)}};}const {data:_0x463976,error:_0x3e46b9}=await _0x14fb7d['order'](_0x23788c==='sp'?_0x3b484c(0x299):_0x3b484c(0x23d),{'ascending':_0x23788c==='sp'});if(_0x3e46b9)throw _0x3e46b9;const _0x2b2092=_0x463976['map'](_0x1c6fa7=>_0x5bbd3b[_0x3b484c(0x306)](_0x3edda0=>{const _0x2c12d3=_0x3b484c;if(_0x3edda0===_0x2c12d3(0x23d))return formatDate(_0x1c6fa7[_0x3edda0]);return _0x1c6fa7[_0x3edda0]!==null&&_0x1c6fa7[_0x3edda0]!==undefined?String(_0x1c6fa7[_0x3edda0]):'';}));_0x347a64[_0x3b484c(0x395)](_0x3b484c(0x2cf),_0x3b484c(0x3be)),_0x347a64[_0x3b484c(0x20e)](0x12),_0x347a64['text'](_0x2cfcca,0xe,0x10),_0x347a64['autoTable']({'head':_0x1dbd97,'body':_0x2b2092,'startY':0x16,'styles':{'font':'Roboto','fontStyle':_0x3b484c(0x3be),'fontSize':0x7},'headStyles':{'fillColor':[0x22,0x77,0xaa],'textColor':0xff,'fontStyle':_0x3b484c(0x368)},'columnStyles':_0x41efb1,'didDrawPage':function(_0x11f1d0){const _0x27bcbe=_0x3b484c;if(_0x11f1d0[_0x27bcbe(0x1fa)]===_0x347a64['internal'][_0x27bcbe(0x1d4)]()){const _0x214b04=_0x347a64[_0x27bcbe(0x387)][_0x27bcbe(0x1f1)]['getHeight'](),_0x2b4a3e=_0x347a64[_0x27bcbe(0x387)]['pageSize'][_0x27bcbe(0x1f6)]();let _0x25b3cd=_0x11f1d0[_0x27bcbe(0x22f)]['y']+0xf;_0x25b3cd>_0x214b04-0x14&&(_0x25b3cd=_0x214b04-0x14),_0x347a64[_0x27bcbe(0x20e)](0xb),_0x347a64['setFont']('Roboto',_0x27bcbe(0x3be)),_0x347a64[_0x27bcbe(0x36b)](_0x27bcbe(0x2b6),0x28,_0x25b3cd),_0x347a64[_0x27bcbe(0x36b)]('(Ký,\x20ghi\x20rõ\x20họ\x20tên)',0x28,_0x25b3cd+0x7),_0x347a64[_0x27bcbe(0x36b)](_0x27bcbe(0x39b),_0x2b4a3e-0x50,_0x25b3cd),_0x347a64[_0x27bcbe(0x36b)]('(Ký,\x20ghi\x20rõ\x20họ\x20tên)',_0x2b4a3e-0x50,_0x25b3cd+0x7);}}}),_0x347a64[_0x3b484c(0x2d0)](_0x2cfcca[_0x3b484c(0x37a)](/\s/g,'_')+_0x3b484c(0x393)),showToast(_0x3b484c(0x2ef),_0x3b484c(0x320));}catch(_0x57762b){console[_0x3b484c(0x274)](_0x3b484c(0x380),_0x57762b),showToast(_0x3b484c(0x292),'error');}finally{showLoading(![]);}}async function _0x19758a(_0x2cd994){const _0x23fdfc=_0x5b9c6c;_0x2cd994[_0x23fdfc(0x378)]();const _0x165baa=document['getElementById'](_0x23fdfc(0x2e1))[_0x23fdfc(0x22c)],_0x47e92e=document[_0x23fdfc(0x31e)](_0x23fdfc(0x3b3))[_0x23fdfc(0x22c)],_0x10a933=document[_0x23fdfc(0x31e)](_0x23fdfc(0x21e))[_0x23fdfc(0x22c)],_0xc97101=document['getElementById'](_0x23fdfc(0x3c8))[_0x23fdfc(0x22c)];if(currentUser['mat_khau']!==_0x47e92e){showToast(_0x23fdfc(0x362),_0x23fdfc(0x274));return;}if(_0x10a933&&_0x10a933!==_0xc97101){showToast(_0x23fdfc(0x36c),_0x23fdfc(0x274));return;}const _0xabfe1f={'ho_ten':_0x165baa};_0x10a933&&(_0xabfe1f[_0x23fdfc(0x3c9)]=_0x10a933);showLoading(!![]);const {data:_0x4cec06,error:_0x5339e9}=await sb[_0x23fdfc(0x22a)](_0x23fdfc(0x245))['update'](_0xabfe1f)['eq'](_0x23fdfc(0x388),currentUser[_0x23fdfc(0x388)])[_0x23fdfc(0x3aa)]()['single']();showLoading(![]),_0x5339e9?showToast(_0x23fdfc(0x346)+_0x5339e9[_0x23fdfc(0x385)],_0x23fdfc(0x274)):(showToast(_0x23fdfc(0x2a2),_0x23fdfc(0x320)),sessionStorage[_0x23fdfc(0x377)]('loggedInUser',JSON['stringify'](_0x4cec06)),currentUser=_0x4cec06,document[_0x23fdfc(0x31e)](_0x23fdfc(0x23a))[_0x23fdfc(0x264)](),document['getElementById']('profile-ho-ten')[_0x23fdfc(0x22c)]=_0x4cec06[_0x23fdfc(0x2ae)]);}async function _0x5970b4(){const _0x29286f=_0x5b9c6c,{data:_0x387558,error:_0x43e18c}=await sb[_0x29286f(0x22a)]('user')['select']('*')[_0x29286f(0x1fe)](_0x29286f(0x2ae));_0x43e18c?showToast(_0x29286f(0x2e7),_0x29286f(0x274)):(cache[_0x29286f(0x265)]=_0x387558,_0x4a99e4(_0x387558));}function _0x4a99e4(_0x4bd081){const _0x10165d=_0x5b9c6c,_0x48d340=document[_0x10165d(0x31e)](_0x10165d(0x2a1));_0x48d340[_0x10165d(0x2c2)]='';if(!_0x4bd081||_0x4bd081['length']===0x0){_0x48d340['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>Không\x20có\x20người\x20dùng\x20nào.</p>';return;}_0x4bd081[_0x10165d(0x212)](_0xcc9a6b=>{const _0x2cd9f5=_0x10165d,_0x585d1d=_0xcc9a6b['gmail']===currentUser[_0x2cd9f5(0x388)];_0x48d340['innerHTML']+=_0x2cd9f5(0x205)+_0xcc9a6b[_0x2cd9f5(0x2ae)]+_0x2cd9f5(0x23b)+_0xcc9a6b[_0x2cd9f5(0x388)]+_0x2cd9f5(0x2b7)+_0xcc9a6b[_0x2cd9f5(0x388)]+'\x22\x20class=\x22user-role-select\x20border\x20rounded\x20p-2\x20text-sm\x20w-full\x20sm:w-28\x22\x20'+(_0x585d1d?_0x2cd9f5(0x2dc):'')+_0x2cd9f5(0x21c)+(_0xcc9a6b[_0x2cd9f5(0x3c1)]===_0x2cd9f5(0x230)?_0x2cd9f5(0x2b2):'')+_0x2cd9f5(0x38f)+(_0xcc9a6b[_0x2cd9f5(0x3c1)]===_0x2cd9f5(0x1e3)?_0x2cd9f5(0x2b2):'')+_0x2cd9f5(0x37d)+_0xcc9a6b['gmail']+_0x2cd9f5(0x202)+(_0x585d1d?_0x2cd9f5(0x2dc):'')+_0x2cd9f5(0x3c7);});}async function _0x335b50(_0xb8c851){const _0x65c872=_0x5b9c6c,_0x5bdfa6=_0xb8c851[_0x65c872(0x269)]['dataset'][_0x65c872(0x388)],_0x4987f4=_0xb8c851[_0x65c872(0x269)][_0x65c872(0x22c)],_0x4a3d56=cache[_0x65c872(0x265)][_0x65c872(0x1f7)](_0x547149=>_0x547149[_0x65c872(0x388)]===_0x5bdfa6)?.[_0x65c872(0x3c1)];if(!_0x4a3d56)return;const _0x2ac44a=await showConfirm(_0x65c872(0x215)+_0x5bdfa6+'\x20thành\x20'+_0x4987f4+'?');if(!_0x2ac44a){_0xb8c851[_0x65c872(0x269)][_0x65c872(0x22c)]=_0x4a3d56;return;}showLoading(!![]);const {error:_0xd97cd}=await sb[_0x65c872(0x22a)](_0x65c872(0x245))['update']({'phan_quyen':_0x4987f4})['eq']('gmail',_0x5bdfa6);showLoading(![]),_0xd97cd?(showToast(_0x65c872(0x2f2),_0x65c872(0x274)),_0xb8c851[_0x65c872(0x269)][_0x65c872(0x22c)]=_0x4a3d56):(showToast(_0x65c872(0x1e8),_0x65c872(0x320)),await _0x5970b4());}function _0x38c9da(_0xb61a19){const _0x188cfe=_0x5b9c6c;document[_0x188cfe(0x31e)](_0x188cfe(0x2b5))[_0x188cfe(0x22c)]=_0xb61a19,document[_0x188cfe(0x31e)](_0x188cfe(0x30b))[_0x188cfe(0x2df)]=_0xb61a19,document[_0x188cfe(0x31e)]('password-reset-modal')['classList']['remove'](_0x188cfe(0x20f));}async function _0x269c6c(_0x31a9c8){const _0x471d79=_0x5b9c6c;_0x31a9c8[_0x471d79(0x378)]();const _0x12fb5a=document[_0x471d79(0x31e)]('reset-user-gmail')[_0x471d79(0x22c)],_0x471c89=document[_0x471d79(0x31e)](_0x471d79(0x39f))[_0x471d79(0x22c)];showLoading(!![]);const {error:_0x4b3e41}=await sb[_0x471d79(0x22a)](_0x471d79(0x245))['update']({'mat_khau':_0x471c89})['eq']('gmail',_0x12fb5a);showLoading(![]),_0x4b3e41?showToast(_0x471d79(0x312),_0x471d79(0x274)):(showToast('Đặt\x20lại\x20mật\x20khẩu\x20thành\x20công.',_0x471d79(0x320)),document[_0x471d79(0x31e)]('password-reset-modal')[_0x471d79(0x259)][_0x471d79(0x22b)](_0x471d79(0x20f)),document[_0x471d79(0x31e)](_0x471d79(0x2cb))[_0x471d79(0x264)]());}document[_0x5b9c6c(0x361)]('.nav-button')[_0x5b9c6c(0x212)](_0x6c090b=>_0x6c090b['addEventListener']('click',()=>_0x261a88(_0x6c090b[_0x5b9c6c(0x223)][_0x5b9c6c(0x369)]))),document['getElementById'](_0x5b9c6c(0x36d))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0xeeaad8),document[_0x5b9c6c(0x2fa)][_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0x2cea41=>{const _0x4fe5a3=_0x5b9c6c;activeFilterPopover&&!activeFilterPopover[_0x4fe5a3(0x2af)](_0x2cea41['target'])&&!_0x2cea41[_0x4fe5a3(0x269)][_0x4fe5a3(0x3a2)]('.filter-btn')&&_0x3589ec(),activeProductDropdown&&!activeProductDropdown[_0x4fe5a3(0x3a2)](_0x4fe5a3(0x287))[_0x4fe5a3(0x2af)](_0x2cea41['target'])&&_0x3fa5ad();}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x3a9))[_0x5b9c6c(0x370)](_0x5b9c6c(0x1eb),debounce(()=>{const _0x10de1e=_0x5b9c6c;viewStates[_0x10de1e(0x2cd)][_0x10de1e(0x330)]=document[_0x10de1e(0x31e)](_0x10de1e(0x3a9))[_0x10de1e(0x22c)],_0x3dc53b(0x1);},0x1f4)),document[_0x5b9c6c(0x31e)]('sp-filter-ton-kho')[_0x5b9c6c(0x370)](_0x5b9c6c(0x332),_0xbf6da7=>{const _0x5f8cdf=_0x5b9c6c;viewStates['view-san-pham'][_0x5f8cdf(0x240)][_0x5f8cdf(0x213)]=_0xbf6da7['target'][_0x5f8cdf(0x22c)],_0x3dc53b(0x1);}),document[_0x5b9c6c(0x31e)]('sp-reset-filters')[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0xfcfb=_0x5b9c6c;document[_0xfcfb(0x31e)](_0xfcfb(0x3a9))[_0xfcfb(0x22c)]='',document[_0xfcfb(0x31e)](_0xfcfb(0x270))[_0xfcfb(0x22c)]='',viewStates[_0xfcfb(0x2cd)]['searchTerm']='',viewStates[_0xfcfb(0x2cd)]['filters']={'ma_sp':[],'ten_sp':[],'phu_trach':[],'ton_kho':''},document[_0xfcfb(0x361)](_0xfcfb(0x2d7))[_0xfcfb(0x212)](_0x2470a5=>{const _0x56742e=_0xfcfb,_0x5eae96=_0x2470a5[_0x56742e(0x2df)][_0x56742e(0x2d4)]('--')[0x1][_0x56742e(0x319)]()[_0x56742e(0x2d4)]('\x20')[0x0];_0x2470a5['innerHTML']=_0x56742e(0x376)+_0x5eae96+_0x56742e(0x207);}),_0x3dc53b(0x1);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2cd))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0x1bed8e=>{const _0x58beb4=_0x5b9c6c,_0x4cdc8d=_0x1bed8e[_0x58beb4(0x269)][_0x58beb4(0x3a2)](_0x58beb4(0x1f8));if(_0x4cdc8d)_0x1e493d(_0x4cdc8d,_0x58beb4(0x2cd));}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x3ae))['addEventListener'](_0x5b9c6c(0x2cc),_0x1eb848),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x233))[_0x5b9c6c(0x370)]('click',_0x5d816a=>{const _0x14b1b7=_0x5b9c6c,_0x247d72=_0x5d816a[_0x14b1b7(0x269)][_0x14b1b7(0x236)];document[_0x14b1b7(0x361)](_0x14b1b7(0x371))['forEach'](_0x4c9a33=>{const _0x52404d=_0x14b1b7;_0x4c9a33['checked']!==_0x247d72&&_0x4c9a33[_0x52404d(0x2cc)]();});}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x39c))['addEventListener'](_0x5b9c6c(0x2cc),()=>_0x245ee6()),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x3c6))[_0x5b9c6c(0x370)]('click',async()=>{const _0x4f88a0=_0x5b9c6c,_0x57f6f9=[...viewStates[_0x4f88a0(0x2cd)][_0x4f88a0(0x2b2)]][0x0],{data:_0x5b4f98}=await sb[_0x4f88a0(0x22a)](_0x4f88a0(0x2ba))[_0x4f88a0(0x3aa)](_0x4f88a0(0x358))['eq']('ma_sp',_0x57f6f9)[_0x4f88a0(0x348)]();if(_0x5b4f98)_0x245ee6(_0x5b4f98);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x1de))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0x144361),document[_0x5b9c6c(0x31e)]('san-pham-form')[_0x5b9c6c(0x370)](_0x5b9c6c(0x39d),_0x2bafa9),document[_0x5b9c6c(0x31e)]('cancel-sp-btn')[_0x5b9c6c(0x370)]('click',()=>document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x3a3))['classList']['add'](_0x5b9c6c(0x20f)));const _0x28efb8=_0x95a6af=>{const _0x277436=_0x5b9c6c;if(_0x95a6af&&_0x95a6af[_0x277436(0x21b)]['startsWith']('image/')){selectedImageFile=_0x95a6af;const _0x5c34d7=new FileReader();_0x5c34d7[_0x277436(0x243)]=_0x1b24a8=>{const _0x53527f=_0x277436;document[_0x53527f(0x31e)](_0x53527f(0x2c9))[_0x53527f(0x353)]=_0x1b24a8[_0x53527f(0x269)][_0x53527f(0x24c)],document[_0x53527f(0x31e)](_0x53527f(0x284))[_0x53527f(0x259)][_0x53527f(0x2ac)](_0x53527f(0x20f)),document[_0x53527f(0x31e)](_0x53527f(0x34b))[_0x53527f(0x22c)]=_0x53527f(0x1f0);},_0x5c34d7[_0x277436(0x29d)](_0x95a6af);}else showToast('Vui\x20lòng\x20chỉ\x20chọn/dán\x20file\x20hình\x20ảnh.',_0x277436(0x274));};document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x35e))['addEventListener']('change',_0x5e3a24=>{const _0x2834b5=_0x5b9c6c;_0x28efb8(_0x5e3a24[_0x2834b5(0x269)]['files'][0x0]);}),document['getElementById'](_0x5b9c6c(0x35b))['addEventListener'](_0x5b9c6c(0x32f),_0x1600f1=>{const _0xaf8d0d=_0x5b9c6c;_0x1600f1[_0xaf8d0d(0x378)]();const _0x121936=_0x1600f1[_0xaf8d0d(0x34e)][_0xaf8d0d(0x234)];for(let _0x9765e3=0x0;_0x9765e3<_0x121936[_0xaf8d0d(0x260)];_0x9765e3++){if(_0x121936[_0x9765e3]['type']['indexOf']('image')!==-0x1){const _0x4c5b32=_0x121936[_0x9765e3]['getAsFile']();_0x28efb8(_0x4c5b32);return;}}showToast(_0xaf8d0d(0x256),_0xaf8d0d(0x290));}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x284))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0x3b8b37=_0x5b9c6c;selectedImageFile=null,document[_0x3b8b37(0x31e)](_0x3b8b37(0x35e))[_0x3b8b37(0x22c)]='',document[_0x3b8b37(0x31e)](_0x3b8b37(0x2c9))[_0x3b8b37(0x353)]=PLACEHOLDER_IMAGE_URL,document[_0x3b8b37(0x31e)](_0x3b8b37(0x284))['classList'][_0x3b8b37(0x22b)]('hidden'),document[_0x3b8b37(0x31e)]('sp-modal-hinh-anh-url-hien-tai')[_0x3b8b37(0x22c)]='';}),document[_0x5b9c6c(0x31e)]('close-image-viewer-btn')[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0xe6e157=_0x5b9c6c;document[_0xe6e157(0x31e)]('image-viewer-modal')[_0xe6e157(0x259)][_0xe6e157(0x22b)]('hidden');}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x300))[_0x5b9c6c(0x370)](_0x5b9c6c(0x332),_0x531b5b=>{const _0x4809f=_0x5b9c6c;viewStates[_0x4809f(0x2cd)]['itemsPerPage']=_0x531b5b['target']['value'],_0x3dc53b(0x1);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x218))['addEventListener'](_0x5b9c6c(0x2cc),()=>_0x3dc53b(viewStates[_0x5b9c6c(0x2cd)][_0x5b9c6c(0x38d)]-0x1)),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2bb))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>_0x3dc53b(viewStates['view-san-pham'][_0x5b9c6c(0x38d)]+0x1)),document['getElementById'](_0x5b9c6c(0x237))[_0x5b9c6c(0x370)](_0x5b9c6c(0x1eb),debounce(()=>{const _0x5f5061=_0x5b9c6c;viewStates['view-don-hang'][_0x5f5061(0x330)]=document[_0x5f5061(0x31e)](_0x5f5061(0x237))[_0x5f5061(0x22c)],_0x1f6250(0x1);},0x1f4)),['dh-filter-thoi-gian-from',_0x5b9c6c(0x250),_0x5b9c6c(0x2e9)][_0x5b9c6c(0x212)](_0x1ab009=>{const _0x592b18=_0x5b9c6c;document[_0x592b18(0x31e)](_0x1ab009)[_0x592b18(0x370)](_0x592b18(0x332),_0x266fed=>{const _0x3ec2b1=_0x592b18,_0x3f6bef=_0x1ab009[_0x3ec2b1(0x37a)]('dh-filter-','')[_0x3ec2b1(0x37a)](/-/g,'_');viewStates[_0x3ec2b1(0x302)][_0x3ec2b1(0x240)][_0x3f6bef]=_0x266fed[_0x3ec2b1(0x269)]['value'],_0x1f6250(0x1);});}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x341))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0x31a72c=_0x5b9c6c,_0x1e0b77=[_0x31a72c(0x237),_0x31a72c(0x2f4),_0x31a72c(0x250),_0x31a72c(0x2e9)];_0x1e0b77['forEach'](_0x1bedaf=>document['getElementById'](_0x1bedaf)[_0x31a72c(0x22c)]=''),viewStates[_0x31a72c(0x302)]['searchTerm']='',viewStates['view-don-hang'][_0x31a72c(0x240)]={'thoi_gian_from':'','thoi_gian_to':'','ma_nx':[],'loai_don':'','yeu_cau':[]},document['querySelectorAll'](_0x31a72c(0x367))['forEach'](_0x6e8327=>{const _0x5b81ce=_0x31a72c,_0x5bf1a9=_0x6e8327[_0x5b81ce(0x2df)][_0x5b81ce(0x2d4)]('--')[0x1][_0x5b81ce(0x319)]()['split']('\x20')[0x0];_0x6e8327[_0x5b81ce(0x2c2)]=_0x5b81ce(0x376)+_0x5bf1a9+_0x5b81ce(0x207);}),_0x1f6250(0x1);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x302))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0x563b77=>{const _0x3edcaa=_0x5b9c6c,_0x59dec3=_0x563b77[_0x3edcaa(0x269)][_0x3edcaa(0x3a2)](_0x3edcaa(0x1f8));if(_0x59dec3)_0x1e493d(_0x59dec3,_0x3edcaa(0x302));}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x303))['addEventListener'](_0x5b9c6c(0x2cc),_0x4d2153),document['getElementById'](_0x5b9c6c(0x366))[_0x5b9c6c(0x370)]('click',_0x3129f9=>{const _0x5d517d=_0x5b9c6c,_0xc9f85e=_0x3129f9[_0x5d517d(0x269)][_0x5d517d(0x236)];document[_0x5d517d(0x361)](_0x5d517d(0x26d))[_0x5d517d(0x212)](_0x1ccb6e=>{const _0x3f770e=_0x5d517d;_0x1ccb6e[_0x3f770e(0x236)]!==_0xc9f85e&&_0x1ccb6e[_0x3f770e(0x2cc)]();});}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x242))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>_0x214261(null,![])),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x328))[_0x5b9c6c(0x370)]('click',async()=>{const _0x303f6b=_0x5b9c6c,_0x2d7445=[...viewStates['view-don-hang'][_0x303f6b(0x2b2)]][0x0],{data:_0x1b408f}=await sb[_0x303f6b(0x22a)]('don_hang')[_0x303f6b(0x3aa)]('*')['eq']('ma_nx',_0x2d7445)[_0x303f6b(0x348)]();if(_0x1b408f)_0x214261(_0x1b408f,!![]);}),document[_0x5b9c6c(0x31e)]('dh-btn-edit')[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),async()=>{const _0x3456fc=_0x5b9c6c,_0x4efcf0=[...viewStates['view-don-hang']['selected']][0x0],{data:_0x36d00a}=await sb[_0x3456fc(0x22a)](_0x3456fc(0x35f))['select']('*')['eq'](_0x3456fc(0x28f),_0x4efcf0)[_0x3456fc(0x348)]();if(_0x36d00a)_0x214261(_0x36d00a,![]);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x1d7))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0x42ad5b),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x374))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0x5da73e=_0x5b9c6c,_0x5c6cd2=[...viewStates[_0x5da73e(0x302)]['selected']];if(_0x5c6cd2[_0x5da73e(0x260)]===0x1){const _0x26a242=_0x5c6cd2[0x0],_0x3da899=_0x5da73e(0x33f)+encodeURIComponent(_0x26a242);window[_0x5da73e(0x331)](_0x3da899,_0x5da73e(0x2ed));}}),document[_0x5b9c6c(0x31e)]('don-hang-form')[_0x5b9c6c(0x370)]('submit',_0x4d3bec),document['getElementById'](_0x5b9c6c(0x1e4))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2ce))[_0x5b9c6c(0x259)][_0x5b9c6c(0x22b)](_0x5b9c6c(0x20f))),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2f1))['addEventListener'](_0x5b9c6c(0x2cc),()=>_0x2656a6());const _0x3af092=_0x270ef3=>{const _0xc086a1=_0x5b9c6c;if(_0x270ef3&&_0x270ef3[_0xc086a1(0x21b)]['startsWith'](_0xc086a1(0x38c))){selectedYcImageFile=_0x270ef3;const _0x1d0cba=new FileReader();_0x1d0cba[_0xc086a1(0x243)]=_0x19088e=>{const _0x1f3d18=_0xc086a1;document['getElementById'](_0x1f3d18(0x2c6))['src']=_0x19088e[_0x1f3d18(0x269)][_0x1f3d18(0x24c)],document[_0x1f3d18(0x31e)]('dh-modal-remove-image-btn')[_0x1f3d18(0x259)][_0x1f3d18(0x2ac)](_0x1f3d18(0x20f)),document[_0x1f3d18(0x31e)](_0x1f3d18(0x342))[_0x1f3d18(0x22c)]=_0x1f3d18(0x1f0);},_0x1d0cba['readAsDataURL'](_0x270ef3);}else showToast('Vui\x20lòng\x20chỉ\x20chọn/dán\x20file\x20hình\x20ảnh.',_0xc086a1(0x274));};document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x3b9))[_0x5b9c6c(0x370)]('change',_0x595c58=>{const _0x42a2a2=_0x5b9c6c;_0x3af092(_0x595c58[_0x42a2a2(0x269)][_0x42a2a2(0x2c1)][0x0]);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x22e))['addEventListener'](_0x5b9c6c(0x32f),_0x48532c=>{const _0x56b684=_0x5b9c6c;_0x48532c['preventDefault']();const _0x16e5c3=_0x48532c['clipboardData'][_0x56b684(0x234)];for(let _0x235991=0x0;_0x235991<_0x16e5c3[_0x56b684(0x260)];_0x235991++){if(_0x16e5c3[_0x235991][_0x56b684(0x21b)]['indexOf']('image')!==-0x1){const _0x7fca0d=_0x16e5c3[_0x235991]['getAsFile']();_0x3af092(_0x7fca0d);return;}}showToast(_0x56b684(0x256),'info');}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2d3))[_0x5b9c6c(0x370)]('click',()=>{const _0x76abfc=_0x5b9c6c;selectedYcImageFile=null,document[_0x76abfc(0x31e)]('dh-modal-image-upload')['value']='',document[_0x76abfc(0x31e)](_0x76abfc(0x2c6))[_0x76abfc(0x353)]=PLACEHOLDER_IMAGE_URL,document[_0x76abfc(0x31e)](_0x76abfc(0x2d3))['classList'][_0x76abfc(0x22b)]('hidden'),document[_0x76abfc(0x31e)](_0x76abfc(0x342))['value']='';}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x36a))[_0x5b9c6c(0x370)]('change',_0x1edf29),document['getElementById']('dh-loai-don-modal')['addEventListener'](_0x5b9c6c(0x332),()=>{const _0x2a8e3d=_0x5b9c6c;document[_0x2a8e3d(0x361)](_0x2a8e3d(0x2e6))['forEach'](_0x3cae51=>_0x36472f(_0x3cae51));});const _0x45a5a1=document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2e8));_0x45a5a1[_0x5b9c6c(0x370)]('click',_0x4bbe26=>{const _0x4fb0ae=_0x5b9c6c;_0x4bbe26[_0x4fb0ae(0x269)][_0x4fb0ae(0x259)]['contains'](_0x4fb0ae(0x33d))&&(document[_0x4fb0ae(0x361)]('.dh-item-row')['length']>0x1?_0x4bbe26[_0x4fb0ae(0x269)][_0x4fb0ae(0x3a2)](_0x4fb0ae(0x2e6))['remove']():showToast(_0x4fb0ae(0x3c3),_0x4fb0ae(0x290)));if(_0x4bbe26['target'][_0x4fb0ae(0x3a2)](_0x4fb0ae(0x2c3))){const _0x5d11f6=_0x4bbe26[_0x4fb0ae(0x269)][_0x4fb0ae(0x3a2)](_0x4fb0ae(0x2c3)),_0xb76cb=_0x5d11f6[_0x4fb0ae(0x3a2)](_0x4fb0ae(0x2e6)),_0x8487ba=JSON[_0x4fb0ae(0x2a7)](_0x5d11f6[_0x4fb0ae(0x223)]['sp']);_0xb76cb[_0x4fb0ae(0x206)](_0x4fb0ae(0x3b5))[_0x4fb0ae(0x22c)]=_0x8487ba[_0x4fb0ae(0x299)],_0xb76cb[_0x4fb0ae(0x206)](_0x4fb0ae(0x338))[_0x4fb0ae(0x22c)]=_0x8487ba[_0x4fb0ae(0x299)],_0xb76cb[_0x4fb0ae(0x206)](_0x4fb0ae(0x304))[_0x4fb0ae(0x22c)]=_0x8487ba[_0x4fb0ae(0x1e9)],_0x3fa5ad(),_0x36472f(_0xb76cb);}}),_0x45a5a1[_0x5b9c6c(0x370)](_0x5b9c6c(0x1eb),_0x49bbca=>{const _0x264f57=_0x5b9c6c,_0xb9f5a1=_0x49bbca[_0x264f57(0x269)];if(_0xb9f5a1[_0x264f57(0x259)][_0x264f57(0x2af)](_0x264f57(0x1ec))){const _0x390cc=_0xb9f5a1[_0x264f57(0x3a2)](_0x264f57(0x2e6));_0x36472f(_0x390cc);}else{if(_0xb9f5a1[_0x264f57(0x259)][_0x264f57(0x2af)](_0x264f57(0x32d))){const _0x1605b3=_0xb9f5a1[_0x264f57(0x3a2)](_0x264f57(0x2e6)),_0x1d8ffd=_0x1605b3[_0x264f57(0x206)](_0x264f57(0x2da)),_0x2daa01=_0xb9f5a1['value']['toLowerCase'](),_0x28ccc1=document[_0x264f57(0x31e)]('dh-yeu-cau')[_0x264f57(0x22c)],_0x2bc46e=cache['sanPhamList'][_0x264f57(0x263)](_0xa4e8a6=>{const _0x182ea3=_0x264f57,_0x1b958e=_0x28ccc1?_0xa4e8a6[_0x182ea3(0x324)]===_0x28ccc1:!![],_0x4946f2=_0xa4e8a6['ma_sp'][_0x182ea3(0x350)]()[_0x182ea3(0x1df)](_0x2daa01);return _0x1b958e&&_0x4946f2;});_0x1d8ffd[_0x264f57(0x2c2)]='',_0x2bc46e[_0x264f57(0x260)]>0x0?(_0x2bc46e['forEach'](_0x1e4392=>{const _0x2052e8=_0x264f57,_0x2aade7=document[_0x2052e8(0x1d6)]('div');_0x2aade7[_0x2052e8(0x298)]=_0x2052e8(0x3bd),_0x2aade7[_0x2052e8(0x2df)]=_0x1e4392[_0x2052e8(0x299)],_0x2aade7[_0x2052e8(0x223)]['sp']=JSON['stringify'](_0x1e4392),_0x1d8ffd['appendChild'](_0x2aade7);}),_0x1d8ffd[_0x264f57(0x259)][_0x264f57(0x2ac)](_0x264f57(0x20f)),activeProductDropdown=_0x1d8ffd):_0x1d8ffd['classList'][_0x264f57(0x22b)](_0x264f57(0x20f)),!cache[_0x264f57(0x2d2)][_0x264f57(0x375)](_0x56a0e6=>_0x56a0e6[_0x264f57(0x299)]===_0xb9f5a1['value'])&&(_0x1605b3[_0x264f57(0x206)](_0x264f57(0x338))[_0x264f57(0x22c)]='',_0x1605b3[_0x264f57(0x206)](_0x264f57(0x304))[_0x264f57(0x22c)]='',_0x36472f(_0x1605b3));}}}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x25b))[_0x5b9c6c(0x370)](_0x5b9c6c(0x332),_0x2c853a=>{const _0x28d987=_0x5b9c6c;viewStates['view-don-hang'][_0x28d987(0x2a6)]=_0x2c853a['target'][_0x28d987(0x22c)],_0x1f6250(0x1);}),document['getElementById'](_0x5b9c6c(0x347))['addEventListener'](_0x5b9c6c(0x2cc),()=>_0x1f6250(viewStates[_0x5b9c6c(0x302)]['currentPage']-0x1)),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x21f))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>_0x1f6250(viewStates[_0x5b9c6c(0x302)]['currentPage']+0x1)),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x208))[_0x5b9c6c(0x370)]('input',debounce(()=>{const _0x5d94be=_0x5b9c6c;viewStates[_0x5d94be(0x313)][_0x5d94be(0x330)]=document[_0x5d94be(0x31e)](_0x5d94be(0x208))[_0x5d94be(0x22c)],_0x19a184(0x1);},0x1f4)),['ct-filter-thoi-gian-from',_0x5b9c6c(0x34a),_0x5b9c6c(0x37c)][_0x5b9c6c(0x212)](_0x2b2721=>{const _0x59a19b=_0x5b9c6c;document['getElementById'](_0x2b2721)[_0x59a19b(0x370)](_0x59a19b(0x332),_0x15468a=>{const _0x382419=_0x59a19b,_0x5a2d3b=_0x2b2721['replace'](_0x382419(0x232),'')[_0x382419(0x37a)](/-/g,'_');viewStates[_0x382419(0x313)][_0x382419(0x240)][_0x5a2d3b]=_0x15468a[_0x382419(0x269)][_0x382419(0x22c)],_0x19a184(0x1);});}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x222))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0x171f57=_0x5b9c6c,_0x2ed29b=[_0x171f57(0x208),'ct-filter-thoi-gian-from','ct-filter-thoi-gian-to',_0x171f57(0x37c)];_0x2ed29b['forEach'](_0x5bc00d=>document[_0x171f57(0x31e)](_0x5bc00d)['value']=''),viewStates['view-chi-tiet'][_0x171f57(0x330)]='',viewStates['view-chi-tiet'][_0x171f57(0x240)]={'thoi_gian_from':'','thoi_gian_to':'','ma_nx':[],'loai_don':'','ma_sp':[],'ten_sp':[],'phu_trach':[]},document[_0x171f57(0x361)](_0x171f57(0x2e2))[_0x171f57(0x212)](_0x39441b=>{const _0x4785e1=_0x171f57,_0x3a4b5d=_0x39441b[_0x4785e1(0x2df)][_0x4785e1(0x2d4)]('--')[0x1][_0x4785e1(0x319)]()[_0x4785e1(0x2d4)]('\x20')[0x0];_0x39441b[_0x4785e1(0x2c2)]='--\x20'+_0x3a4b5d+'\x20--';}),_0x19a184(0x1);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x313))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),_0x4ec769=>{const _0x26c020=_0x5b9c6c,_0xbbd9a5=_0x4ec769[_0x26c020(0x269)]['closest'](_0x26c020(0x1f8));if(_0xbbd9a5)_0x1e493d(_0xbbd9a5,_0x26c020(0x313));}),document['getElementById'](_0x5b9c6c(0x1f2))[_0x5b9c6c(0x370)](_0x5b9c6c(0x332),_0x51ff8c=>{const _0x5ebd21=_0x5b9c6c;viewStates[_0x5ebd21(0x313)]['itemsPerPage']=_0x51ff8c[_0x5ebd21(0x269)]['value'],_0x19a184(0x1);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x224))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>_0x19a184(viewStates['view-chi-tiet']['currentPage']-0x1)),document[_0x5b9c6c(0x31e)]('ct-next-page')[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>_0x19a184(viewStates['view-chi-tiet'][_0x5b9c6c(0x38d)]+0x1)),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x23a))[_0x5b9c6c(0x370)](_0x5b9c6c(0x39d),_0x19758a),document['getElementById']('user-list-body')['addEventListener']('change',_0x465657=>{const _0x2af32f=_0x5b9c6c;if(_0x465657[_0x2af32f(0x269)]['classList'][_0x2af32f(0x2af)]('user-role-select'))_0x335b50(_0x465657);}),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x2a1))[_0x5b9c6c(0x370)]('click',_0x2b4ef7=>{const _0x47344a=_0x5b9c6c,_0x26457f=_0x2b4ef7[_0x47344a(0x269)][_0x47344a(0x3a2)](_0x47344a(0x27a));if(_0x26457f)_0x38c9da(_0x26457f[_0x47344a(0x223)]['gmail']);}),document[_0x5b9c6c(0x31e)]('password-reset-form')[_0x5b9c6c(0x370)](_0x5b9c6c(0x39d),_0x269c6c),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x32e))[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>{const _0x2c10fd=_0x5b9c6c;document['getElementById'](_0x2c10fd(0x277))[_0x2c10fd(0x259)][_0x2c10fd(0x22b)](_0x2c10fd(0x20f)),document[_0x2c10fd(0x31e)]('password-reset-form')[_0x2c10fd(0x264)]();}),document[_0x5b9c6c(0x31e)]('sp-btn-excel')[_0x5b9c6c(0x370)](_0x5b9c6c(0x2cc),()=>_0x5b0350('sp')),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x291))['addEventListener'](_0x5b9c6c(0x2cc),()=>_0x1b1682('sp')),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x28b))[_0x5b9c6c(0x370)]('click',()=>_0x5b0350('ct')),document[_0x5b9c6c(0x31e)](_0x5b9c6c(0x1ff))[_0x5b9c6c(0x370)]('click',()=>_0x1b1682('ct')),_0x21398e();});